<!DOCTYPE html><html lang="zh-CN"><head hexo-theme="https://github.com/volantis-x/hexo-theme-volantis/tree/5.0.0.alpha.3"><meta name="generator" content="Hexo 5.4.0"><meta charset="utf-8"><link rel="canonical" href="https://www.sizaif.com/posts/c65d65/"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><meta content="Sizaif&#39;s Blog" name="application-name"><meta content="Sizaif&#39;s Blog" name="apple-mobile-web-app-title"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="google-site-verification" content="2ch5e58GE7KkV0c1-Cc2VtH4jR8sGEuT8xtD6ou6Un8"><meta name="baidu-site-verification" content="code-fyaVc6pxBp"><link rel="preload" href="/css/style.css?time=1710817994374" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/inkss/common@1/fonts/canva/SentyGoldenBell.woff2" as="font" type="font/woff2" crossorigin="anonymous"><link rel="preload" href="https://cdn.jsdelivr.net/gh/sizaif/blog-cdn@main/fonts/hytmr55.woff" as="font" type="font/woff" crossorigin="anonymous"><title>Java 8 Tutorial æ•™ç¨‹ - Sizaif's Blog</title><meta name="keywords" content="Java,æŠ€æœ¯å‘,sizaif,ç¨‹åºçŒ¿"><meta name="description" content="Java 8 Tutorial æ•™ç¨‹  ğŸ˜„ @Auther sizaif ğŸ“† 2021-05-29  20:41:05 ğŸ”— ç¿»è¯‘è‡ª https:&#x2F;&#x2F;winterbe.com&#x2F;posts&#x2F;2014&#x2F;03&#x2F;16&#x2F;java-8-tutorial&#x2F;  [TOC] è¯´æ˜ æ¬¢è¿æ¥åˆ°æˆ‘å¯¹Java 8çš„ä»‹ç»ã€‚æœ¬æ•™ç¨‹å°†é€æ­¥æŒ‡å¯¼æ‚¨äº†è§£æ‰€æœ‰æ–°çš„è¯­è¨€ç‰¹æ€§ã€‚åœ¨ç®€çŸ­ç®€å•çš„ä»£ç ç¤ºä¾‹çš„æ”¯æŒä¸‹ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨é»˜è®¤æ¥å£æ–¹æ³•ã€"><meta property="og:type" content="article"><meta property="og:title" content="Java 8 Tutorial æ•™ç¨‹"><meta property="og:url" content="https://www.sizaif.com/posts/c65d65/"><meta property="og:site_name" content="Sizaif&#39;s Blog"><meta property="og:description" content="Java 8 Tutorial æ•™ç¨‹  ğŸ˜„ @Auther sizaif ğŸ“† 2021-05-29  20:41:05 ğŸ”— ç¿»è¯‘è‡ª https:&#x2F;&#x2F;winterbe.com&#x2F;posts&#x2F;2014&#x2F;03&#x2F;16&#x2F;java-8-tutorial&#x2F;  [TOC] è¯´æ˜ æ¬¢è¿æ¥åˆ°æˆ‘å¯¹Java 8çš„ä»‹ç»ã€‚æœ¬æ•™ç¨‹å°†é€æ­¥æŒ‡å¯¼æ‚¨äº†è§£æ‰€æœ‰æ–°çš„è¯­è¨€ç‰¹æ€§ã€‚åœ¨ç®€çŸ­ç®€å•çš„ä»£ç ç¤ºä¾‹çš„æ”¯æŒä¸‹ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨é»˜è®¤æ¥å£æ–¹æ³•ã€"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/Logo-NavBar@3x.png"><meta property="article:published_time" content="2021-08-09T16:00:00.000Z"><meta property="article:modified_time" content="2021-09-19T10:14:49.368Z"><meta property="article:author" content="sizaif"><meta property="article:tag" content="Java"><meta property="article:tag" content="æŠ€æœ¯å‘"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/Logo-NavBar@3x.png"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><style>#safearea{display:none}.post-story+.post-story,.post-wrapper+.post-wrapper,article+article{content-visibility:auto;contain-intrinsic-size:10px 500px}:root{--color-site-body:#f4f4f4;--color-site-bg:#f4f4f4;--color-site-inner:#fff;--color-site-footer:#2196f3;--color-card:#fff;--color-text:#444;--color-block:#f6f6f6;--color-inlinecode:#7c4dff;--color-codeblock:#f3e5f5;--color-h1:#3a3a3a;--color-h2:#3a3a3a;--color-h3:#333;--color-h4:#444;--color-h5:#555;--color-h6:#666;--color-p:#444;--color-list:#666;--color-list-hl:#36ac91;--color-meta:#888;--color-read-bkg:#e0d8c8;--color-read-post:#f8f1e2}*{box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;outline:0;margin:0;padding:0}html{color:var(--color-text);width:100%;height:100%;font-family:hytmr,UbuntuMono,"Varela Round","PingFang SC","Microsoft YaHei",Helvetica,Arial,Menlo,Monaco,monospace,sans-serif;font-size:16px}html>::-webkit-scrollbar{height:4px;width:4px}html>::-webkit-scrollbar-track-piece{background:0 0}html>::-webkit-scrollbar-thumb{background:#44d7b6;cursor:pointer;border-radius:2px;-webkit-border-radius:2px}html>::-webkit-scrollbar-thumb:hover{background:#ff5722}body{background-color:var(--color-site-body);text-rendering:optimizelegibility;-webkit-tap-highlight-color:transparent;line-height:1.6;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}body.modal-active{overflow:hidden}@media screen and (max-width:680px){body.modal-active{position:fixed;top:0;right:0;bottom:0;left:0}}a{color:#2196f3;cursor:pointer;text-decoration:none;transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease}a:hover{color:#ff5722}a:active,a:hover{outline:0}ol,ul{padding-left:0}ol li,ul li{list-style:none}header{display:-webkit-box;display:-moz-box;display:block}img{border:0;background:0 0;max-width:100%}svg:not(:root){overflow:hidden}hr{-moz-box-sizing:content-box;box-sizing:content-box;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;height:0;border:0;border-radius:1px;-webkit-border-radius:1px;border-bottom:1px solid rgba(68,68,68,.1)}button,input{color:inherit;font:inherit;margin:0}button{overflow:visible;text-transform:none;-webkit-appearance:button;cursor:pointer}@supports (backdrop-filter:blur(20px)){.blur{background:rgba(255,255,255,.9)!important;backdrop-filter:saturate(200%) blur(20px)}}.shadow{box-shadow:0 1px 2px 0 rgba(0,0,0,.1);-webkit-box-shadow:0 1px 2px 0 rgba(0,0,0,.1)}.shadow.floatable{transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease}.shadow.floatable:hover{box-shadow:0 2px 4px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.1),0 8px 16px 0 rgba(0,0,0,.1);-webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.1),0 8px 16px 0 rgba(0,0,0,.1)}#l_cover{min-height:64px}.cover-wrapper{top:0;left:0;max-width:100%;height:100vh;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex;flex-wrap:nowrap;-webkit-flex-wrap:nowrap;-khtml-flex-wrap:nowrap;-moz-flex-wrap:nowrap;-o-flex-wrap:nowrap;-ms-flex-wrap:nowrap;-webkit-box-direction:normal;-moz-box-direction:normal;-webkit-box-orient:vertical;-moz-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;align-items:center;align-self:center;align-content:center;color:var(--color-site-inner);padding:0 16px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;position:relative;overflow:hidden;margin-bottom:-100px}.cover-wrapper .cover-bg{position:absolute;width:100%;height:100%;background-position:center;background-size:cover;-webkit-background-size:cover;-moz-background-size:cover}.cover-wrapper .cover-bg.lazyload:not(.loaded){opacity:0;-webkit-opacity:0;-moz-opacity:0}.cover-wrapper .cover-bg.lazyload.loaded{animation-delay:0s;animation-duration:.5s;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-name:fadeIn}@-moz-keyframes fadeIn{0%{opacity:0;-webkit-opacity:0;-moz-opacity:0;filter:blur(12px);transform:scale(1.02);-webkit-transform:scale(1.02);-khtml-transform:scale(1.02);-moz-transform:scale(1.02);-o-transform:scale(1.02);-ms-transform:scale(1.02)}100%{opacity:1;-webkit-opacity:1;-moz-opacity:1}}@-webkit-keyframes fadeIn{0%{opacity:0;-webkit-opacity:0;-moz-opacity:0;filter:blur(12px);transform:scale(1.02);-webkit-transform:scale(1.02);-khtml-transform:scale(1.02);-moz-transform:scale(1.02);-o-transform:scale(1.02);-ms-transform:scale(1.02)}100%{opacity:1;-webkit-opacity:1;-moz-opacity:1}}@-o-keyframes fadeIn{0%{opacity:0;-webkit-opacity:0;-moz-opacity:0;filter:blur(12px);transform:scale(1.02);-webkit-transform:scale(1.02);-khtml-transform:scale(1.02);-moz-transform:scale(1.02);-o-transform:scale(1.02);-ms-transform:scale(1.02)}100%{opacity:1;-webkit-opacity:1;-moz-opacity:1}}@keyframes fadeIn{0%{opacity:0;-webkit-opacity:0;-moz-opacity:0;filter:blur(12px);transform:scale(1.02);-webkit-transform:scale(1.02);-khtml-transform:scale(1.02);-moz-transform:scale(1.02);-o-transform:scale(1.02);-ms-transform:scale(1.02)}100%{opacity:1;-webkit-opacity:1;-moz-opacity:1}}.cover-wrapper .cover-body{z-index:1;position:relative;width:100%;height:100%}.cover-wrapper#full{height:calc(100vh + 100px);padding-bottom:100px}.cover-wrapper#half{max-height:640px;min-height:400px;height:calc(36vh - 64px + 200px)}.cover-wrapper #scroll-down{width:100%;height:64px;position:absolute;bottom:100px;text-align:center;cursor:pointer}.cover-wrapper #scroll-down .scroll-down-effects{color:#fff;font-size:24px;line-height:64px;position:absolute;width:24px;left:calc(50% - 12px);text-shadow:0 1px 2px rgba(0,0,0,.1);animation:scroll-down-effect 1.5s infinite;-webkit-animation:scroll-down-effect 1.5s infinite;-khtml-animation:scroll-down-effect 1.5s infinite;-moz-animation:scroll-down-effect 1.5s infinite;-o-animation:scroll-down-effect 1.5s infinite;-ms-animation:scroll-down-effect 1.5s infinite}@-moz-keyframes scroll-down-effect{0%{top:0;opacity:1;-webkit-opacity:1;-moz-opacity:1}50%{top:-16px;opacity:.4;-webkit-opacity:.4;-moz-opacity:.4}100%{top:0;opacity:1;-webkit-opacity:1;-moz-opacity:1}}@-webkit-keyframes scroll-down-effect{0%{top:0;opacity:1;-webkit-opacity:1;-moz-opacity:1}50%{top:-16px;opacity:.4;-webkit-opacity:.4;-moz-opacity:.4}100%{top:0;opacity:1;-webkit-opacity:1;-moz-opacity:1}}@-o-keyframes scroll-down-effect{0%{top:0;opacity:1;-webkit-opacity:1;-moz-opacity:1}50%{top:-16px;opacity:.4;-webkit-opacity:.4;-moz-opacity:.4}100%{top:0;opacity:1;-webkit-opacity:1;-moz-opacity:1}}@keyframes scroll-down-effect{0%{top:0;opacity:1;-webkit-opacity:1;-moz-opacity:1}50%{top:-16px;opacity:.4;-webkit-opacity:.4;-moz-opacity:.4}100%{top:0;opacity:1;-webkit-opacity:1;-moz-opacity:1}}.cover-wrapper .cover-body{margin-top:64px;margin-bottom:100px}.cover-wrapper .cover-body,.cover-wrapper .cover-body .bottom,.cover-wrapper .cover-body .top{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex;-webkit-box-direction:normal;-moz-box-direction:normal;-webkit-box-orient:vertical;-moz-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;align-items:center;justify-content:center;-webkit-justify-content:center;-khtml-justify-content:center;-moz-justify-content:center;-o-justify-content:center;-ms-justify-content:center;max-width:100%}.cover-wrapper .cover-body .bottom{margin-top:32px}.cover-wrapper .cover-body .title{font-family:SentyGoldenBell,"Varela Round","PingFang SC","Microsoft YaHei",Helvetica,Arial,Helvetica,monospace;font-size:3.125rem;line-height:1.2;text-shadow:0 1px 2px rgba(0,0,0,.1);text-align:center}.cover-wrapper .cover-body .subtitle{font-size:20px}.cover-wrapper .cover-body .logo{max-height:120px;max-width:calc(100% - 4 * 16px)}@media screen and (min-height:1024px){.cover-wrapper .cover-body .title{font-size:3rem}.cover-wrapper .cover-body .subtitle{font-size:1.05rem}.cover-wrapper .cover-body .logo{max-height:150px}}.cover-wrapper .cover-body .m_search{position:relative;max-width:calc(100% - 16px);width:320px;vertical-align:middle}.cover-wrapper .cover-body .m_search .form{position:relative;display:-webkit-box;display:-moz-box;display:block;width:100%}.cover-wrapper .cover-body .m_search .icon,.cover-wrapper .cover-body .m_search .input{transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease}.cover-wrapper .cover-body .m_search .icon{position:absolute;display:-webkit-box;display:-moz-box;display:block;line-height:2.5rem;width:32px;top:0;left:5px;color:rgba(68,68,68,.75)}.cover-wrapper .cover-body .m_search .input{display:-webkit-box;display:-moz-box;display:block;height:2.5rem;width:100%;box-shadow:none;-webkit-box-shadow:none;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;font-size:.875rem;-webkit-appearance:none;padding-left:36px;border-radius:1.4rem;-webkit-border-radius:1.4rem;background:rgba(255,255,255,.6);backdrop-filter:blur(10px);border:none;color:var(--color-text)}@media screen and (max-width:500px){.cover-wrapper .cover-body .m_search .input{padding-left:36px}}.cover-wrapper .cover-body .m_search .input:hover{background:rgba(255,255,255,.8)}.cover-wrapper .cover-body .m_search .input:focus{background:#fff}.cover-wrapper .list-h{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex;-webkit-box-direction:normal;-moz-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;flex-wrap:wrap;-webkit-flex-wrap:wrap;-khtml-flex-wrap:wrap;-moz-flex-wrap:wrap;-o-flex-wrap:wrap;-ms-flex-wrap:wrap;align-items:stretch;border-radius:4px;-webkit-border-radius:4px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.cover-wrapper .list-h a{-webkit-box-flex:1;-moz-box-flex:1;-webkit-flex:1 0;-ms-flex:1 0;flex:1 0;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex;font-weight:600}.cover-wrapper .list-h a img{display:-webkit-box;display:-moz-box;display:block;border-radius:2px;-webkit-border-radius:2px;margin:4px;min-width:40px;max-width:44px}@media screen and (max-width:768px){.cover-wrapper .list-h a img{min-width:36px;max-width:40px}}@media screen and (max-width:500px){.cover-wrapper .list-h a img{margin:2px 4px;min-width:32px;max-width:36px}}@media screen and (max-width:375px){.cover-wrapper .list-h a img{min-width:28px;max-width:32px}}.cover-wrapper{max-width:100%}.cover-wrapper.search .bottom .menu{margin-top:16px}.cover-wrapper.search .bottom .menu .list-h a{white-space:nowrap;-webkit-box-direction:normal;-moz-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;align-items:baseline;padding:2px;margin:4px;color:var(--color-site-inner);opacity:.75;-webkit-opacity:.75;-moz-opacity:.75;text-shadow:0 1px 2px rgba(0,0,0,.05);border-bottom:2px solid transparent}.cover-wrapper.search .bottom .menu .list-h a i{margin-right:4px}.cover-wrapper.search .bottom .menu .list-h a p{font-size:.9375rem}.cover-wrapper.search .bottom .menu .list-h a.active,.cover-wrapper.search .bottom .menu .list-h a:active,.cover-wrapper.search .bottom .menu .list-h a:hover{opacity:1;-webkit-opacity:1;-moz-opacity:1;border-bottom:2px solid var(--color-site-inner)}.cover-wrapper.dock .menu,.cover-wrapper.featured .menu,.cover-wrapper.focus .menu{border-radius:6px;-webkit-border-radius:6px}.cover-wrapper.dock .menu .list-h a,.cover-wrapper.featured .menu .list-h a,.cover-wrapper.focus .menu .list-h a{-webkit-box-direction:normal;-moz-box-direction:normal;-webkit-box-orient:vertical;-moz-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;align-items:center;padding:12px;line-height:24px;border-radius:4px;-webkit-border-radius:4px;border-bottom:none;text-align:center;align-content:flex-end;color:rgba(68,68,68,.7);font-size:1.5rem}@media screen and (max-width:500px){.cover-wrapper.dock .menu .list-h a,.cover-wrapper.featured .menu .list-h a,.cover-wrapper.focus .menu .list-h a{padding:12px 8px}}.cover-wrapper.dock .menu .list-h a i,.cover-wrapper.featured .menu .list-h a i,.cover-wrapper.focus .menu .list-h a i{margin:8px}.cover-wrapper.dock .menu .list-h a p,.cover-wrapper.featured .menu .list-h a p,.cover-wrapper.focus .menu .list-h a p{font-size:.875rem}.cover-wrapper.dock .menu .list-h a.active,.cover-wrapper.featured .menu .list-h a.active,.cover-wrapper.focus .menu .list-h a.active{background:var(--color-card);backdrop-filter:none}.cover-wrapper.dock .menu .list-h a.active i,.cover-wrapper.dock .menu .list-h a.active i+p,.cover-wrapper.featured .menu .list-h a.active i,.cover-wrapper.featured .menu .list-h a.active i+p,.cover-wrapper.focus .menu .list-h a.active i,.cover-wrapper.focus .menu .list-h a.active i+p{color:#44d7b6}.cover-wrapper.dock .menu .list-h a.active img+p,.cover-wrapper.featured .menu .list-h a.active img+p,.cover-wrapper.focus .menu .list-h a.active img+p{color:var(--color-text)}.cover-wrapper.dock .menu .list-h a:hover,.cover-wrapper.featured .menu .list-h a:hover,.cover-wrapper.focus .menu .list-h a:hover{background:var(--color-card)}.cover-wrapper.dock .top{margin-bottom:48px}.cover-wrapper.dock .menu{background:rgba(255,255,255,.5);position:absolute;bottom:0;max-width:100%}.cover-wrapper.dock .menu .list-h{flex-wrap:nowrap;-webkit-flex-wrap:nowrap;-khtml-flex-wrap:nowrap;-moz-flex-wrap:nowrap;-o-flex-wrap:nowrap;-ms-flex-wrap:nowrap;margin:4px}.cover-wrapper.dock .menu .list-h a+a{margin-left:4px}@media screen and (max-width:500px){.cover-wrapper.dock .menu .list-h{overflow-x:scroll}.cover-wrapper.dock .menu .list-h::-webkit-scrollbar{height:0;width:0}.cover-wrapper.dock .menu .list-h::-webkit-scrollbar-track-piece{background:0 0}.cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb{background:#44d7b6;cursor:pointer;border-radius:0;-webkit-border-radius:0}.cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb:hover{background:#ff5722}}@supports (backdrop-filter:blur(20px)){.cover-wrapper.dock .menu{background:rgba(255,255,255,.5);backdrop-filter:saturate(200%) blur(20px)}}@media (prefers-color-scheme:dark){:root{--color-mode:'dark'}:root:not([color-scheme]){--color-site-body:#000;--color-read-bkg:#222;--color-read-post:#333;--color-site-bg:#222;--color-site-inner:#eee;--color-site-footer:#aaa;--color-card:#333;--color-text:#eee;--color-block:#3a3a3a;--color-codeblock:#343a3c;--color-inlinecode:#d56d28;--color-h1:#eee;--color-h2:#eee;--color-h3:#ddd;--color-h4:#ddd;--color-h5:#ddd;--color-h6:#ddd;--color-p:#bbb;--color-list:#aaa;--color-list-hl:#69dfc4;--color-meta:#888;--color-link:#888}:root:not([color-scheme]) img{filter:brightness(70%)!important}:root:not([color-scheme]) #wrapper .title{color:var(--color-meta)!important}:root:not([color-scheme]) .l_header ul.nav-list-h>li>a,:root:not([color-scheme]) ul.list-v>li>a{color:var(--color-list)!important}:root:not([color-scheme]) .blur{background:var(--color-site-bg)!important}:root:not([color-scheme]) .nav-main .u-search-input{background:var(--color-card)!important}:root:not([color-scheme]) #l_main .article .prev-next>a{background:var(--color-block)!important}:root:not([color-scheme]) #l_main .article .prev-next>a:hover{background:var(--color-card)!important}:root:not([color-scheme]) .article blockquote{background:var(--color-block)!important}:root:not([color-scheme]) .article-title a{color:var(--color-h1)!important}:root:not([color-scheme]) details>summary{color:var(--color-p)!important;background:var(--color-site-bg)!important}:root:not([color-scheme]) details{border:1px solid var(--color-site-bg)!important;background:var(--color-site-bg)!important}:root:not([color-scheme]) #u-search .modal,:root:not([color-scheme]) #u-search .modal-body,:root:not([color-scheme]) #u-search .modal-header{background:var(--color-card)!important}:root:not([color-scheme]) #u-search .modal-body .modal-results .result:hover{background:var(--color-block)!important}}[color-scheme=dark]{--color-site-body:#000;--color-read-bkg:#222;--color-read-post:#333;--color-site-bg:#222;--color-site-inner:#eee;--color-site-footer:#aaa;--color-card:#333;--color-text:#eee;--color-block:#3a3a3a;--color-codeblock:#343a3c;--color-inlinecode:#d56d28;--color-h1:#eee;--color-h2:#eee;--color-h3:#ddd;--color-h4:#ddd;--color-h5:#ddd;--color-h6:#ddd;--color-p:#bbb;--color-list:#aaa;--color-list-hl:#69dfc4;--color-meta:#888;--color-link:#888}[color-scheme=dark] img{filter:brightness(70%)!important}[color-scheme=dark] #wrapper .title{color:var(--color-meta)!important}[color-scheme=dark] .l_header ul.nav-list-h>li>a,[color-scheme=dark] ul.list-v>li>a{color:var(--color-list)!important}[color-scheme=dark] .blur{background:var(--color-site-bg)!important}[color-scheme=dark] .nav-main .u-search-input{background:var(--color-card)!important}[color-scheme=dark] #l_main .article .prev-next>a{background:var(--color-block)!important}[color-scheme=dark] #l_main .article .prev-next>a:hover{background:var(--color-card)!important}[color-scheme=dark] .article blockquote{background:var(--color-block)!important}[color-scheme=dark] .article-title a{color:var(--color-h1)!important}[color-scheme=dark] details>summary{color:var(--color-p)!important;background:var(--color-site-bg)!important}[color-scheme=dark] details{border:1px solid var(--color-site-bg)!important;background:var(--color-site-bg)!important}[color-scheme=dark] #u-search .modal,[color-scheme=dark] #u-search .modal-body,[color-scheme=dark] #u-search .modal-header{background:var(--color-card)!important}[color-scheme=dark] #u-search .modal-body .modal-results .result:hover{background:var(--color-block)!important}@media screen and (max-width:500px){[color-scheme=dark] .l_header .m_search{background:var(--color-site-bg)!important}}@font-face{font-family:hytmr;src:url(https://cdn.jsdelivr.net/gh/sizaif/blog-cdn@main/fonts/hytmr55.woff);font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:SentyGoldenBell;src:url(https://cdn.jsdelivr.net/gh/inkss/common@1/fonts/canva/SentyGoldenBell.woff2);font-weight:'normal;';font-style:'normal;';font-display:swap}.l_header{position:fixed;z-index:1000;top:0;width:100%;height:64px;background:var(--color-card);box-shadow:0 1px 2px 0 rgba(0,0,0,.1);-webkit-box-shadow:0 1px 2px 0 rgba(0,0,0,.1)}.l_header.auto{transition:opacity .4s ease;-webkit-transition:opacity .4s ease;-khtml-transition:opacity .4s ease;-moz-transition:opacity .4s ease;-o-transition:opacity .4s ease;-ms-transition:opacity .4s ease;visibility:hidden}.l_header.auto.show{opacity:1!important;-webkit-opacity:1!important;-moz-opacity:1!important;visibility:visible}.l_header .container{margin-left:16px;margin-right:16px}.l_header #wrapper{height:100%;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.l_header #wrapper .nav-main,.l_header #wrapper .nav-sub{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex;flex-wrap:nowrap;-webkit-flex-wrap:nowrap;-khtml-flex-wrap:nowrap;-moz-flex-wrap:nowrap;-o-flex-wrap:nowrap;-ms-flex-wrap:nowrap;justify-content:space-between;-webkit-justify-content:space-between;-khtml-justify-content:space-between;-moz-justify-content:space-between;-o-justify-content:space-between;-ms-justify-content:space-between;align-items:center}.l_header #wrapper .nav-main{transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease}.l_header #wrapper.sub .nav-main{transform:translateY(-64px);-webkit-transform:translateY(-64px);-khtml-transform:translateY(-64px);-moz-transform:translateY(-64px);-o-transform:translateY(-64px);-ms-transform:translateY(-64px)}.l_header #wrapper .nav-sub{transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease;opacity:0;-webkit-opacity:0;-moz-opacity:0;height:64px;width:calc(100% - 2 * 16px);position:absolute}.l_header #wrapper .nav-sub ::-webkit-scrollbar{display:-webkit-box;display:-moz-box;display:none}@media screen and (min-width:2048px){.l_header #wrapper .nav-sub{max-width:55vw;margin:auto}}.l_header #wrapper.sub .nav-sub{opacity:1;-webkit-opacity:1;-moz-opacity:1}.l_header #wrapper .title{position:relative;color:var(--color-text);padding-left:24px;max-height:64px}.l_header #wrapper .nav-main .title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-shrink:0;line-height:64px;padding:0 24px;font-size:1.25rem;font-family:SentyGoldenBell,"Varela Round","PingFang SC","Microsoft YaHei",Helvetica,Arial,Helvetica,monospace}.l_header #wrapper .nav-main .title img{height:64px}.l_header .nav-sub{max-width:1080px;margin:auto}.l_header .nav-sub .title{font-weight:700;font-family:hytmr,UbuntuMono,"Varela Round","PingFang SC","Microsoft YaHei",Helvetica,Arial,Menlo,Monaco,monospace,sans-serif;line-height:1.2;max-height:64px;white-space:normal;flex-shrink:1}.l_header .switcher{display:-webkit-box;display:-moz-box;display:none;line-height:64px;align-items:center}.l_header .switcher .s-toc{display:-webkit-box;display:-moz-box;display:none}@media screen and (max-width:768px){.l_header .switcher .s-toc{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex}}.l_header .switcher>li{height:48px;transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease;margin:2px}@media screen and (max-width:500px){.l_header .switcher>li{margin:0 1px;height:48px}}.l_header .switcher>li>a{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex;justify-content:center;-webkit-justify-content:center;-khtml-justify-content:center;-moz-justify-content:center;-o-justify-content:center;-ms-justify-content:center;align-items:center;width:48px;height:48px;padding:.85em 1.1em;border-radius:100px;-webkit-border-radius:100px;border:none;transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease;color:#44d7b6}.l_header .switcher>li>a:hover{border:none}.l_header .switcher>li>a.active,.l_header .switcher>li>a:active{border:none;background:var(--color-site-bg)}@media screen and (max-width:500px){.l_header .switcher>li>a{width:36px;height:48px}}.l_header .nav-sub .switcher{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex}.l_header .m_search{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex;height:64px;width:240px;transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease}@media screen and (max-width:1024px){.l_header .m_search{width:44px;min-width:44px}.l_header .m_search input::placeholder{opacity:0;-webkit-opacity:0;-moz-opacity:0}.l_header .m_search:hover{width:240px}.l_header .m_search:hover input::placeholder{opacity:1;-webkit-opacity:1;-moz-opacity:1}}@media screen and (min-width:500px){.l_header .m_search:hover .input{width:100%}.l_header .m_search:hover .input::placeholder{opacity:1;-webkit-opacity:1;-moz-opacity:1}}@media screen and (max-width:500px){.l_header .m_search{min-width:0}.l_header .m_search input::placeholder{opacity:1;-webkit-opacity:1;-moz-opacity:1}}.l_header .m_search .form{position:relative;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex;width:100%;align-items:center}.l_header .m_search .icon{position:absolute;width:36px;left:5px;color:var(--color-meta)}@media screen and (max-width:500px){.l_header .m_search .icon{display:-webkit-box;display:-moz-box;display:none}}.l_header .m_search .input{display:-webkit-box;display:-moz-box;display:block;padding-top:8px;padding-bottom:8px;line-height:1.3;width:100%;color:var(--color-text);background:#fafafa;box-shadow:none;-webkit-box-shadow:none;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;padding-left:40px;font-size:.875rem;border-radius:8px;-webkit-border-radius:8px;border:none;transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease}@media screen and (min-width:500px){.l_header .m_search .input:focus{box-shadow:0 4px 8px 0 rgba(0,0,0,.1);-webkit-box-shadow:0 4px 8px 0 rgba(0,0,0,.1)}}@media screen and (max-width:500px){.l_header .m_search .input{background:var(--color-block);padding-left:8px;border:none}.l_header .m_search .input:focus,.l_header .m_search .input:hover{border:none}}@media (max-width:500px){.l_header .m_search{left:0;width:0;overflow:hidden;position:absolute;background:#fff;transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease}.l_header .m_search .input{border-radius:32px;-webkit-border-radius:32px;margin-left:16px;padding-left:16px}.l_header.z_search-open .m_search{width:100%}.l_header.z_search-open .m_search .input{width:calc(100% - 120px)}}ul.m-pc>li>a{color:inherit;border-bottom:2px solid transparent}ul.m-pc>li>a.active,ul.m-pc>li>a:active{border-bottom:2px solid #44d7b6}ul.list-v li:hover>ul.list-v,ul.m-pc li:hover>ul.list-v{display:-webkit-box;display:-moz-box;display:block}ul.nav-list-h{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex;align-items:stretch}ul.nav-list-h>li{position:relative;justify-content:center;-webkit-justify-content:center;-khtml-justify-content:center;-moz-justify-content:center;-o-justify-content:center;-ms-justify-content:center;height:100%;line-height:2.4;border-radius:4px;-webkit-border-radius:4px}ul.nav-list-h>li>a{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:600}ul.list-v{z-index:1;display:-webkit-box;display:-moz-box;display:none;position:absolute;background:var(--color-card);box-shadow:0 2px 4px 0 rgba(0,0,0,.08),0 4px 8px 0 rgba(0,0,0,.08),0 8px 16px 0 rgba(0,0,0,.08);-webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.08),0 4px 8px 0 rgba(0,0,0,.08),0 8px 16px 0 rgba(0,0,0,.08);margin-top:-6px;border-radius:4px;-webkit-border-radius:4px;padding:8px 0}ul.list-v.show{display:-webkit-box;display:-moz-box;display:block}ul.list-v hr{margin-top:8px;margin-bottom:8px}ul.list-v>li{white-space:nowrap;word-break:keep-all}ul.list-v>li.header{font-size:.78125rem;font-weight:700;line-height:2em;color:var(--color-meta);margin:8px 16px 4px}ul.list-v>li.header i{margin-right:8px}ul.list-v>li ul{margin-left:0;display:-webkit-box;display:-moz-box;display:none;margin-top:-40px}ul.list-v .aplayer-container{min-height:64px;padding:6px 16px}ul.list-v>li>a{transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease;display:-webkit-box;display:-moz-box;display:block;color:var(--color-list);font-size:.875rem;font-weight:700;line-height:36px;padding:0 20px 0 16px;text-overflow:ellipsis;margin:0 4px;border-radius:4px;-webkit-border-radius:4px}@media screen and (max-width:1024px){ul.list-v>li>a{line-height:40px}}ul.list-v>li>a>i{margin-right:8px}ul.list-v>li>a.active,ul.list-v>li>a:active{color:var(--color-list-hl)}ul.list-v>li>a:hover{color:var(--color-list-hl);background:var(--color-site-bg)}.l_header .menu>ul>li>a{display:-webkit-box;display:-moz-box;display:block;padding:0 8px}.l_header .menu>ul>li>a>i{margin-right:4px}.l_header ul.nav-list-h>li{color:var(--color-list);line-height:64px}.l_header ul.nav-list-h>li>a{max-height:64px;overflow:hidden;color:inherit}.l_header ul.nav-list-h>li>a.active,.l_header ul.nav-list-h>li>a:active{color:#44d7b6}.l_header ul.nav-list-h>li:hover>a{color:var(--color-list-hl)}.l_header ul.nav-list-h>li i.music{animation:rotate-effect 1.5s linear infinite;-webkit-animation:rotate-effect 1.5s linear infinite;-khtml-animation:rotate-effect 1.5s linear infinite;-moz-animation:rotate-effect 1.5s linear infinite;-o-animation:rotate-effect 1.5s linear infinite;-ms-animation:rotate-effect 1.5s linear infinite}@-moz-keyframes rotate-effect{0%{transform:rotate(0);-webkit-transform:rotate(0);-khtml-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0)}25%{transform:rotate(90deg);-webkit-transform:rotate(90deg);-khtml-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg)}50%{transform:rotate(180deg);-webkit-transform:rotate(180deg);-khtml-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg)}75%{transform:rotate(270deg);-webkit-transform:rotate(270deg);-khtml-transform:rotate(270deg);-moz-transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg)}100%{transform:rotate(360deg);-webkit-transform:rotate(360deg);-khtml-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);-ms-transform:rotate(360deg)}}@-webkit-keyframes rotate-effect{0%{transform:rotate(0);-webkit-transform:rotate(0);-khtml-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0)}25%{transform:rotate(90deg);-webkit-transform:rotate(90deg);-khtml-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg)}50%{transform:rotate(180deg);-webkit-transform:rotate(180deg);-khtml-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg)}75%{transform:rotate(270deg);-webkit-transform:rotate(270deg);-khtml-transform:rotate(270deg);-moz-transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg)}100%{transform:rotate(360deg);-webkit-transform:rotate(360deg);-khtml-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);-ms-transform:rotate(360deg)}}@-o-keyframes rotate-effect{0%{transform:rotate(0);-webkit-transform:rotate(0);-khtml-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0)}25%{transform:rotate(90deg);-webkit-transform:rotate(90deg);-khtml-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg)}50%{transform:rotate(180deg);-webkit-transform:rotate(180deg);-khtml-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg)}75%{transform:rotate(270deg);-webkit-transform:rotate(270deg);-khtml-transform:rotate(270deg);-moz-transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg)}100%{transform:rotate(360deg);-webkit-transform:rotate(360deg);-khtml-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);-ms-transform:rotate(360deg)}}@keyframes rotate-effect{0%{transform:rotate(0);-webkit-transform:rotate(0);-khtml-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0)}25%{transform:rotate(90deg);-webkit-transform:rotate(90deg);-khtml-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg)}50%{transform:rotate(180deg);-webkit-transform:rotate(180deg);-khtml-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg)}75%{transform:rotate(270deg);-webkit-transform:rotate(270deg);-khtml-transform:rotate(270deg);-moz-transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg)}100%{transform:rotate(360deg);-webkit-transform:rotate(360deg);-khtml-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);-ms-transform:rotate(360deg)}}.menu-phone li ul.list-v{right:calc(100% - .5 * 16px)}.menu-phone li ul.list-v ul{right:calc(100% - .5 * 16px)}#wrapper{max-width:1080px;margin:auto}@media screen and (min-width:2048px){#wrapper{max-width:55vw}}#wrapper .menu{-webkit-box-flex:1;-moz-box-flex:1;-webkit-flex:1 1;-ms-flex:1 1;flex:1 1;margin:0 16px 0 0}#wrapper .menu .list-v ul{left:calc(100% - .5 * 16px)}.menu-phone{display:-webkit-box;display:-moz-box;display:none;margin-top:16px;right:8px;transition:all .28s ease;-webkit-transition:all .28s ease;-khtml-transition:all .28s ease;-moz-transition:all .28s ease;-o-transition:all .28s ease;-ms-transition:all .28s ease}.menu-phone ul{right:calc(100% - .5 * 16px)}@media screen and (max-width:500px){.menu-phone{display:-webkit-box;display:-moz-box;display:block}}.l_header{max-width:65vw;left:calc((100% - 65vw) * .5);border-bottom-left-radius:8px;border-bottom-right-radius:8px}@media screen and (max-width:2048px){.l_header{max-width:1112px;left:calc((100% - 1112px) * .5)}}@media screen and (max-width:1112px){.l_header{left:0;border-radius:0;-webkit-border-radius:0;max-width:100%}}@media screen and (max-width:500px){.l_header .container{margin-left:0;margin-right:0}.l_header #wrapper .nav-main .title{padding-left:16px;padding-right:16px}.l_header #wrapper .nav-sub{width:100%}.l_header #wrapper .nav-sub .title{overflow-y:scroll;margin-top:2px;padding:8px 16px}.l_header #wrapper .switcher{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:flex;margin-right:8px}.l_header .menu{display:-webkit-box;display:-moz-box;display:none}}@media screen and (max-width:500px){.list-v li{max-width:270px}}#u-search{display:-webkit-box;display:-moz-box;display:none;position:fixed;top:0;left:0;width:100%;height:100%;padding:60px 20px;z-index:1001}@media screen and (max-width:680px){#u-search{padding:0}}@media screen and (prefers-color-scheme:dark) and (max-width:500px){.l_header .m_search{background:var(--color-site-bg)!important}}</style><link rel="stylesheet" href="/css/style.css?time=1710817994374" media="print" onload='this.media="all",this.onload=null'><noscript><link rel="stylesheet" href="/css/style.css?time=1710817994374"></noscript><script>var userColorScheme=localStorage.getItem("color-scheme");userColorScheme&&document.documentElement.setAttribute("color-scheme",userColorScheme)</script><noscript><style>html{overflow-x:hidden!important;overflow-y:hidden!important}.kill-noscript{text-align:center;height:100%;margin-top:15%;margin-bottom:5500%}.kill-t{font-size:2rem}.kill-c{font-size:1.2rem}#l_body,#l_header{display:none}</style><div class="kill-noscript"> <span class="kill-t"><b>æŠ±æ­‰ï¼Œæ‚¨çš„æµè§ˆå™¨æ— æ³•è®¿é—®æœ¬ç«™</b></span><br> <span class="kill-c">æœ¬é¡µé¢éœ€è¦æµè§ˆå™¨æ”¯æŒï¼ˆå¯ç”¨ï¼‰JavaScript</span><br> <a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=å¯ç”¨JavaScript"><strong>äº†è§£è¯¦æƒ… ></strong></a></div></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><header itemscope itemtype="http://schema.org/WPHeader" id="l_header" class="l_header auto shadow blur show" style="opacity:0"><div class="container"><div id="wrapper"><div class="nav-sub"><p class="title"></p><ul class="switcher nav-list-h m-phone" id="pjax-header-nav-list"><li><a id="s-comment" class="fas fa-comments fa-fw" target="_self" href="/" onclick="return!1" title="comment"></a></li><li><a id="s-toc" class="s-toc fas fa-list fa-fw" target="_self" href="/" onclick="return!1" title="toc"></a></li></ul></div><div class="nav-main"> <a class="title flat-box" target="_self" href="/">Sizaif's blog</a><div class="menu navigation"><ul class="nav-list-h m-pc"><li><a class="menuitem flat-box faa-parent animated-hover" href="/" active-action="action-home"><i class="fad fa-home fa-fw WISTERIA fa-fw"></i> åšå®¢</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/" onclick="return!1" title="Click me!"><i class="fal fa-grip-horizontal NEPHRITIS fa-fw"></i> å¯¼èˆª</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/navigation/archives/" active-action="action-navigationarchives"><i class="fad fa-list-alt BELIZEHOLE fa-fw"></i> æ–‡ç« å½’æ¡£</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/navigation/categories/" active-action="action-navigationcategories"><i class="fad fa-folder-open SUNFLOWER fa-fw"></i> åˆ†ç±»åˆ—è¡¨</a></li><hr><li><a class="menuitem flat-box faa-parent animated-hover" href="/page/notes/" active-action="action-pagenotes"><i class="fal fa-books CARROT fa-fw"></i> å°å°ç¬”è®°</a></li></ul></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/page/friends/" active-action="action-pagefriends"><i class="fad fa-link ORANGE fa-fw"></i> å°ä¼™ä¼´</a></li><li><a class="menuitem flat-box" href="/" onclick="return!1" title="Click me!"><i class="fad fa-compact-disc PINK fa-fw music"></i> éšå¿ƒå¬</a><ul class="list-v"><li><div class="aplayer-container"><meting-js theme="#1BCDFC" autoplay="true" volume="0.7" loop="all" order="random" fixed="false" list-max-height="320px" server="tencent" type="playlist" id="8110970572" list-folded="true"></meting-js></div></li></ul></li><li></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/" onclick="return!1" title="Click me!"><i class="fad fa-ellipsis-v fa-fw POMEGRANATE fa-fw"></i> æ›´å¤š</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/page/about/" active-action="action-pageabout"><i class="fad fa-info-circle CARROT fa-fw"></i> å…³äº</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/page/history/" active-action="action-pagehistory"><i class="fad fa-history PUMPKIN fa-fw"></i> æ—¶é—´è½´</a></li><hr><li><a class="menuitem flat-box faa-parent animated-hover" href="/" onclick="return!1" title="Click me!"><i class="fad fa-fighter-jet NEPHRITIS fa-fw"></i> å¿«é€Ÿå¯¼èˆª</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="https://github.com/sizaif" active-action="action-https:githubcomsizaif"><i class="fad fa-code-merge LightBlue fa-fw"></i> GitHub</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="https://blog.csdn.net/sizaif" active-action="action-https:blogcsdnnetsizaif"><i class="fad fa-blog CYAN fa-fw"></i> CSDN</a></li></ul></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/" onclick="return!1" title="Click me!"><i class="fad fa-book-reader NEPHRITIS fa-fw"></i> dockeræ‰‹å†Œ</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/page/clubmanualv1/" active-action="action-pageclubmanualv1"><i class="fad fa-journal-whills LightBlue fa-fw"></i> Clubmanualv1</a></li></ul></li><hr></ul></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><i class="icon fas fa-search fa-fw"></i> <input type="text" class="input u-search-input" placeholder="æƒ³æ‰¾ä»€ä¹ˆå‘¢"></form></div><ul class="switcher nav-list-h m-phone"><li><a class="s-search fas fa-search fa-fw" target="_self" href="/" onclick="return!1" title="search"></a></li><li><a class="s-menu fas fa-bars fa-fw" target="_self" href="/" onclick="return!1" title="menu"></a><ul class="menu-phone list-v navigation white-box"><li><a class="menuitem flat-box faa-parent animated-hover" href="/" active-action="action-home"><i class="fad fa-home fa-fw WISTERIA fa-fw"></i> åšå®¢</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/" onclick="return!1" title="Click me!"><i class="fal fa-grip-horizontal NEPHRITIS fa-fw"></i> å¯¼èˆª</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/navigation/archives/" active-action="action-navigationarchives"><i class="fad fa-list-alt BELIZEHOLE fa-fw"></i> æ–‡ç« å½’æ¡£</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/navigation/categories/" active-action="action-navigationcategories"><i class="fad fa-folder-open SUNFLOWER fa-fw"></i> åˆ†ç±»åˆ—è¡¨</a></li><hr><li><a class="menuitem flat-box faa-parent animated-hover" href="/page/notes/" active-action="action-pagenotes"><i class="fal fa-books CARROT fa-fw"></i> å°å°ç¬”è®°</a></li></ul></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/page/friends/" active-action="action-pagefriends"><i class="fad fa-link ORANGE fa-fw"></i> å°ä¼™ä¼´</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/" onclick="return!1" title="Click me!"><i class="fad fa-ellipsis-v fa-fw POMEGRANATE fa-fw"></i> æ›´å¤š</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/page/about/" active-action="action-pageabout"><i class="fad fa-info-circle CARROT fa-fw"></i> å…³äº</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/page/history/" active-action="action-pagehistory"><i class="fad fa-history PUMPKIN fa-fw"></i> æ—¶é—´è½´</a></li><hr><li><a class="menuitem flat-box faa-parent animated-hover" href="/" onclick="return!1" title="Click me!"><i class="fad fa-fighter-jet NEPHRITIS fa-fw"></i> å¿«é€Ÿå¯¼èˆª</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="https://github.com/sizaif" active-action="action-https:githubcomsizaif"><i class="fad fa-code-merge LightBlue fa-fw"></i> GitHub</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="https://blog.csdn.net/sizaif" active-action="action-https:blogcsdnnetsizaif"><i class="fad fa-blog CYAN fa-fw"></i> CSDN</a></li></ul></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/" onclick="return!1" title="Click me!"><i class="fad fa-book-reader NEPHRITIS fa-fw"></i> dockeræ‰‹å†Œ</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/page/clubmanualv1/" active-action="action-pageclubmanualv1"><i class="fad fa-journal-whills LightBlue fa-fw"></i> Clubmanualv1</a></li></ul></li><hr></ul></li></ul></li></ul></div></div></div></header><div id="l_body"><div id="l_cover"><div id="none" class="cover-wrapper post dock" style="display:none"><div class="cover-bg lazyload placeholder" data-bg="https://cdn.jsdelivr.net/gh/sizaif/blog-cdn@main/img/bkg/crop02.webp"></div><div class="cover-body"><div class="top"><p class="title">Sizaif</p><p class="subtitle">Keep learning and progress!</p></div><div class="bottom"><div class="menu navigation"><div class="list-h"><a href="/" active-action="action-home"><i class="fad fa-home fa-fw BELIZEHOLE fa-fw"></i><p>é¦–é¡µ</p></a><a href="/navigation/categories/" active-action="action-navigationcategories"><i class="fad fa-folder-open EMERALD fa-fw"></i><p>åˆ†ç±»</p></a><a href="/navigation/archives/" active-action="action-navigationarchives"><i class="fad fa-archive PETERRIVE fa-fw"></i><p>å½’æ¡£</p></a><a href="/page/friends/" active-action="action-pagefriends"><i class="fad fa-link AMETHYST fa-fw"></i><p>å°ä¼™ä¼´</p></a><a href="/page/about/" active-action="action-pageabout"><i class="fad fa-book-reader TURQUOISE fa-fw"></i><p>å…³äºæˆ‘</p></a></div></div></div></div><div id="scroll-down" style="display:none"><i class="fa fa-chevron-down scroll-down-effects"></i></div></div></div><div id="safearea"><div class="body-wrapper" id="pjax-container"><div id="l_main" class=""><article itemscope itemtype="http://schema.org/Article" class="article post white-box reveal md shadow article-type-post" id="post" itemscope itemprop="blogPost"><link itemprop="mainEntityOfPage" href="https://www.sizaif.com/posts/c65d65/"><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sizaif's Blog"></span><span hidden><meta itemprop="image" content="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/android-chrome-192x192.png"></span><div class="article-meta" id="top"><h1 class="title" itemprop="name headline"> Java 8 Tutorial æ•™ç¨‹</h1><div class="new-meta-box"><div class="new-meta-item author" itemprop="author" itemscope itemtype="http://schema.org/Person"> <a itemprop="url" class="author" href="/page/about/" rel="nofollow"><img itemprop="image" src="/img/avatar.webp" class="lazyload" data-srcset="/img/avatar.webp" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="This is a picture without description"><p itemprop="name">sizaif</p></a></div><div class="new-meta-item category"><i class="fad fa-folder-open NEPHRITIS fa-fw" aria-hidden="true"></i> <a class="category-link" href="/navigation/categories/%E6%8A%80%E6%9C%AF%E5%90%91/">æŠ€æœ¯å‘</a><span class="sep"></span><a class="category-link" href="/navigation/categories/%E6%8A%80%E6%9C%AF%E5%90%91/Java/">Java</a> <span hidden itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/navigation/categories/%E6%8A%80%E6%9C%AF%E5%90%91/" itemprop="url"><span itemprop="name">æŠ€æœ¯å‘</span></a></span> <span hidden itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/navigation/categories/%E6%8A%80%E6%9C%AF%E5%90%91/Java/" itemprop="url"><span itemprop="name">Java</span></a></span></div><div class="new-meta-item browse leancloud"><a class="notlink" href="/" onclick="return!1" title="Click me!"><div id="lc-pv" data-title="Java 8 Tutorial æ•™ç¨‹" data-path="/posts/c65d65/"><i class="fad fa-eye GREENSEA fa-fw" aria-hidden="true"></i><span id="number"><i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span> æ¬¡æµè§ˆ</div></a></div><div class="new-meta-item wordcount"><a class="notlink" href="/" onclick="return!1" title="Click me!"><i class="fad fa-keyboard BELIZEHOLE fa-fw" aria-hidden="true"></i><p>å­—æ•°ï¼š4.6k å­—</p></a></div><div class="new-meta-item readtime"><a class="notlink" href="/" onclick="return!1" title="Click me!"><i class="fad fa-hourglass-half PETERRIVE fa-fw" aria-hidden="true"></i><p>æ—¶é•¿ï¼š19 åˆ†é’Ÿ</p></a></div></div></div><div id="layoutHelper-page-plugins"></div><div id="post-body" itemprop="articleBody"><h1>Java 8 Tutorial æ•™ç¨‹</h1><blockquote><p>ğŸ˜„ @Auther sizaif</p><p>ğŸ“† 2021-05-29 20:41:05</p><p>ğŸ”— ç¿»è¯‘è‡ª <a target="_blank" rel="noopener" href="https://winterbe.com/posts/2014/03/16/java-8-tutorial/">https://winterbe.com/posts/2014/03/16/java-8-tutorial/</a></p></blockquote><p>[TOC]</p><h2 id="è¯´æ˜">è¯´æ˜</h2><div class="story post-story"><p>æ¬¢è¿æ¥åˆ°æˆ‘å¯¹Java 8çš„ä»‹ç»ã€‚æœ¬æ•™ç¨‹å°†é€æ­¥æŒ‡å¯¼æ‚¨äº†è§£æ‰€æœ‰æ–°çš„è¯­è¨€ç‰¹æ€§ã€‚åœ¨ç®€çŸ­ç®€å•çš„ä»£ç ç¤ºä¾‹çš„æ”¯æŒä¸‹ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨é»˜è®¤æ¥å£æ–¹æ³•ã€lambdaè¡¨è¾¾å¼ã€æ–¹æ³•å¼•ç”¨å’Œå¯é‡å¤æ³¨é‡Šã€‚åœ¨æœ¬æ–‡çš„æœ€åï¼Œæ‚¨å°†ç†Ÿæ‚‰æœ€æ–°çš„APIå˜åŒ–ï¼Œå¦‚æµã€åŠŸèƒ½æ¥å£ã€åœ°å›¾æ‰©å±•å’Œæ–°çš„æ—¥æœŸAPIã€‚</p></div><h2 id="æ¥å£ç¼ºçœæ–¹æ³•">æ¥å£ç¼ºçœæ–¹æ³•</h2><div class="story post-story"><p>Java 8å…è®¸æˆ‘ä»¬åˆ©ç”¨<code>default</code>å…³é”®å­—å‘æ¥å£æ·»åŠ éæŠ½è±¡çš„æ–¹æ³•å®ç°ã€‚</p><p>æ­¤ç‰¹æ€§ä¹Ÿç§°ä¸ºæ‰©å±•æ–¹æ³•( <strong>Extension Methods</strong>.)ã€‚è¿™æ˜¯ç¬¬ä¸€ä¸ªä¾‹å­:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">interface</span> <span class="token class-name">Formula</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">double</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">default</span> <span class="token keyword">double</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre><p>é™¤äº†æŠ½è±¡æ–¹æ³•<code>calculate</code>æ¥å£å¤–ï¼Œ<code>Formula</code>è¿˜å®šä¹‰äº†é»˜è®¤æ–¹æ³•<code>sqrt</code>ã€‚å…·ä½“ç±»åªéœ€å®ç°æŠ½è±¡æ–¹æ³•<code>calculate</code> é»˜è®¤æ–¹æ³•<code>sqrt</code>å¯ä»¥å¼€ç®±å³ç”¨ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Formula</span> formula <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Formula</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>a <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

formula<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 100.0</span>
formula<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 4.0</span></code></pre><p>è¯¥å…¬å¼ä»¥åŒ¿åå¯¹è±¡çš„å½¢å¼å®ç°ã€‚è¿™æ®µä»£ç ç›¸å½“å†—é•¿:6è¡Œä»£ç å°±å¯ä»¥å®Œæˆè¿™æ ·ä¸€ä¸ªç®€å•çš„<code>sqrt(a * 100)</code>è®¡ç®—ã€‚æ­£å¦‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­çœ‹åˆ°çš„ï¼Œåœ¨Java 8ä¸­æœ‰ä¸€ç§æ›´å¥½çš„å®ç°å•ä¸ªæ–¹æ³•å¯¹è±¡çš„æ–¹æ³•ã€‚</p></div><h2 id="æ‹‰å§†è¾¾-Lambda-è¡¨è¾¾å¼">æ‹‰å§†è¾¾(Lambda)è¡¨è¾¾å¼</h2><div class="story post-story"><p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­å¼€å§‹ï¼Œåœ¨ä»¥å‰çš„Javaç‰ˆæœ¬ä¸­å¦‚ä½•å¯¹å­—ç¬¦ä¸²åˆ—è¡¨æ’åº:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> names <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"peter"</span><span class="token punctuation">,</span> <span class="token string">"anna"</span><span class="token punctuation">,</span> <span class="token string">"mike"</span><span class="token punctuation">,</span> <span class="token string">"xenia"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>names<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">String</span> a<span class="token punctuation">,</span> <span class="token class-name">String</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> b<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>é™æ€å®ç”¨æ–¹æ³•<code>Collections.sort</code>æ¥å—ä¸€ä¸ªåˆ—è¡¨å’Œä¸€ä¸ªæ¯”è¾ƒå™¨ï¼Œä»¥ä¾¿å¯¹ç»™å®šåˆ—è¡¨çš„å…ƒç´ è¿›è¡Œæ’åº. æ‚¨ç»å¸¸ä¼šå‘ç°è‡ªå·±åˆ›å»ºäº†åŒ¿åæ¯”è¾ƒå™¨å¹¶å°†å®ƒä»¬ä¼ é€’ç»™sortæ–¹æ³•ã€‚</p><p>Java 8çš„è¯­æ³•è¦çŸ­å¾—å¤šï¼Œè€Œä¸æ˜¯æ•´å¤©åˆ›å»ºåŒ¿åå¯¹è±¡ï¼Œ</p><p><strong>lambda expressions</strong>:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>names<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">String</span> a<span class="token punctuation">,</span> <span class="token class-name">String</span> b<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> b<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œä»£ç æ›´çŸ­ï¼Œæ›´å®¹æ˜“é˜…è¯»ã€‚ä½†å®ƒå˜å¾—æ›´çŸ­:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>names<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">String</span> a<span class="token punctuation">,</span> <span class="token class-name">String</span> b<span class="token punctuation">)</span> <span class="token operator">-></span> b<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å¯¹äºä¸€è¡Œæ–¹æ³•ä¸»ä½“ï¼Œå¯ä»¥è·³è¿‡å¤§æ‹¬å·{}å’Œreturnå…³é”®å­—ã€‚ä½†å®ƒå˜å¾—æ›´çŸ­:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>names<span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-></span> b<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>javaç¼–è¯‘å™¨çŸ¥é“å‚æ•°ç±»å‹ï¼Œæ‰€ä»¥æ‚¨ä¹Ÿå¯ä»¥è·³è¿‡å®ƒä»¬ã€‚è®©æˆ‘ä»¬æ›´æ·±å…¥åœ°äº†è§£lambdaè¡¨è¾¾å¼åœ¨å®é™…ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨çš„</p></div><h2 id="å‡½æ•°å¼æ¥å£">å‡½æ•°å¼æ¥å£</h2><div class="story post-story"><p>lambdaè¡¨è¾¾å¼å¦‚ä½•é€‚åº”javaç±»å‹ç³»ç»Ÿ?æ¯ä¸ªlambdaå¯¹åº”äºç”±æ¥å£æŒ‡å®šçš„ç»™å®šç±»å‹.ä¸€ä¸ªæ‰€è°“çš„å‡½æ•°æ¥å£<code>å¿…é¡»åŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</code>å£°æ˜ã€‚</p><p>è¯¥ç±»å‹çš„æ¯ä¸ªlambdaè¡¨è¾¾å¼éƒ½å°†ä¸è¿™ä¸ªæŠ½è±¡æ–¹æ³•åŒ¹é…ã€‚ç”±äºé»˜è®¤æ–¹æ³•ä¸æ˜¯æŠ½è±¡çš„ï¼Œæ‚¨å¯ä»¥è‡ªç”±åœ°å°†é»˜è®¤æ–¹æ³•æ·»åŠ åˆ°å‡½æ•°æ¥å£ä¸­ã€‚</p><p>åªè¦æ¥å£åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä»»æ„æ¥å£ä½œä¸ºlambdaè¡¨è¾¾å¼ä½¿ç”¨ã€‚ä¸ºäº†ç¡®ä¿æ‚¨çš„æ¥å£æ»¡è¶³éœ€æ±‚ï¼Œæ‚¨åº”è¯¥æ·»åŠ <code>@FunctionalInterface</code>æ³¨é‡Šã€‚ç¼–è¯‘å™¨çŸ¥é“è¿™ä¸ªæ³¨é‡Šï¼Œå½“æ‚¨è¯•å›¾å‘æ¥å£æ·»åŠ ç¬¬äºŒä¸ªæŠ½è±¡æ–¹æ³•å£°æ˜æ—¶ï¼Œå°±ä¼šæŠ›å‡ºç¼–è¯‘å™¨é”™è¯¯ã€‚</p><p>Example:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">interface</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">F</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">T</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">F</span> from<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> converter <span class="token operator">=</span> <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> converted <span class="token operator">=</span> converter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>converted<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 123</span></code></pre><p>è¯·è®°ä½ï¼Œå¦‚æœ<code>@FunctionalInterface</code>æ³¨é‡Šè¢«çœç•¥ï¼Œé‚£ä¹ˆä»£ç ä¹Ÿæ˜¯æœ‰æ•ˆçš„ã€‚</p></div><h2 id="æ–¹æ³•å’Œæ„é€ å‡½æ•°å¼•ç”¨">æ–¹æ³•å’Œæ„é€ å‡½æ•°å¼•ç”¨</h2><div class="story post-story"><p>é€šè¿‡ä½¿ç”¨é™æ€æ–¹æ³•å¼•ç”¨ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ä¸Šé¢çš„ç¤ºä¾‹ä»£ç :</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> converter <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> converted <span class="token operator">=</span> converter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>converted<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 123</span></code></pre><p>Java 8å…è®¸æ‚¨é€šè¿‡<code>::</code>å…³é”®å­—ä¼ é€’æ–¹æ³•æˆ–æ„é€ å‡½æ•°çš„å¼•ç”¨ã€‚ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å¼•ç”¨é™æ€æ–¹æ³•ã€‚ä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼•ç”¨å¯¹è±¡æ–¹æ³•:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Something</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> <span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Something</span> something <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Something</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> converter <span class="token operator">=</span> something<span class="token operator">::</span><span class="token function">startsWith</span><span class="token punctuation">;</span><span class="token class-name">String</span> converted <span class="token operator">=</span> converter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">"Java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>converted<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// "J"</span></code></pre><p>è®©æˆ‘ä»¬çœ‹çœ‹<code>::</code>å…³é”®å­—å¦‚ä½•åœ¨æ„é€ å‡½æ•°ä¸­å·¥ä½œã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå¸¦æœ‰ä¸åŒæ„é€ å‡½æ•°çš„ç¤ºä¾‹<code>bean</code>:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> firstName<span class="token punctuation">;</span>    <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>    <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> firstName<span class="token punctuation">,</span> <span class="token class-name">String</span> lastName<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŒ‡å®šä¸€ä¸ªç”¨äºåˆ›å»ºæ–°äººå‘˜çš„äººå‘˜å·¥å‚æ¥å£:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">interface</span> <span class="token class-name">PersonFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">P</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token class-name">P</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">String</span> firstName<span class="token punctuation">,</span> <span class="token class-name">String</span> lastName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>æˆ‘ä»¬ä¸æ˜¯æ‰‹åŠ¨å®ç°å·¥å‚ï¼Œè€Œæ˜¯é€šè¿‡æ„é€ å‡½æ•°å¼•ç”¨å°†æ‰€æœ‰ä¸œè¥¿ç²˜åœ¨ä¸€èµ·:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">PersonFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> personFactory <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span><span class="token class-name">Person</span> person <span class="token operator">=</span> personFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"Peter"</span><span class="token punctuation">,</span> <span class="token string">"Parker"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>é€šè¿‡<code>Person::new</code>åˆ›å»ºå¯¹Personæ„é€ å‡½æ•°çš„å¼•ç”¨ã€‚Javaç¼–è¯‘å™¨é€šè¿‡åŒ¹é…<code>PersonFactory.create</code>çš„ç­¾åè‡ªåŠ¨é€‰æ‹©æ­£ç¡®çš„æ„é€ å‡½æ•°ã€‚</p></div><h2 id="LambdaèŒƒå›´">LambdaèŒƒå›´</h2><div class="story post-story"><p>ä»lambdaè¡¨è¾¾å¼è®¿é—®å¤–éƒ¨ä½œç”¨åŸŸå˜é‡éå¸¸ç±»ä¼¼äºåŒ¿åå¯¹è±¡ã€‚æ‚¨å¯ä»¥ä»æœ¬åœ°å¤–éƒ¨ä½œç”¨åŸŸä»¥åŠå®ä¾‹å­—æ®µå’Œé™æ€å˜é‡è®¿é—®æœ€ç»ˆå˜é‡ã€‚</p><h3 id="è®¿é—®å±€éƒ¨å˜é‡">è®¿é—®å±€éƒ¨å˜é‡</h3><p>æˆ‘ä»¬å¯ä»¥ä»lambdaè¡¨è¾¾å¼çš„å¤–éƒ¨ä½œç”¨åŸŸè¯»å–æœ€ç»ˆå±€éƒ¨å˜é‡:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">final</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> stringConverter <span class="token operator">=</span>        <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>stringConverter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 3</span></code></pre><p>ä½†ä¸åŒ¿åå¯¹è±¡ä¸åŒçš„æ˜¯ï¼Œå˜é‡<code>num</code>ä¸å¿…å£°æ˜ä¸ºfinalã€‚æ­¤ä»£ç ä¹Ÿæ˜¯æœ‰æ•ˆçš„:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> stringConverter <span class="token operator">=</span>        <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>stringConverter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 3</span></code></pre><p>ä½†æ˜¯<code>num</code>å¿…é¡»æ˜¯éšå¼çš„finalï¼Œæ‰èƒ½ç¼–è¯‘ä»£ç ã€‚ä»¥ä¸‹ä»£ç æ— æ³•ç¼–è¯‘:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> stringConverter <span class="token operator">=</span>        <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>num <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></code></pre><p><strong>ä¹Ÿç¦æ­¢ä»lambdaè¡¨è¾¾å¼å†…å†™å…¥numã€‚</strong></p><h3 id="è®¿é—®å­—æ®µå’Œé™æ€å˜é‡">è®¿é—®å­—æ®µå’Œé™æ€å˜é‡</h3><p>ä¸å±€éƒ¨å˜é‡ç›¸æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥ä»lambdaè¡¨è¾¾å¼ä¸­è¯»å†™å®ä¾‹å­—æ®µå’Œé™æ€å˜é‡ã€‚è¿™ç§è¡Œä¸ºåœ¨åŒ¿åå¯¹è±¡ä¸­å¾ˆå¸¸è§ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Lambda4</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">static</span> <span class="token keyword">int</span> outerStaticNum<span class="token punctuation">;</span>    <span class="token keyword">int</span> outerNum<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">testScopes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> stringConverter1 <span class="token operator">=</span> <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>            outerNum <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> stringConverter2 <span class="token operator">=</span> <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>            outerStaticNum <span class="token operator">=</span> <span class="token number">72</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="è®¿é—®ç¼ºçœæ¥å£æ–¹æ³•">è®¿é—®ç¼ºçœæ¥å£æ–¹æ³•</h3><p>è¿˜è®°å¾—ç¬¬ä¸€éƒ¨åˆ†çš„å…¬å¼ä¾‹å­å—? æ¥å£<code>Formula</code>å®šä¹‰äº†ä¸€ä¸ªé»˜è®¤æ–¹æ³•<code>sqrt</code>ï¼Œå¯ä»¥ä»æ¯ä¸ªå…¬å¼å®ä¾‹(åŒ…æ‹¬åŒ¿åå¯¹è±¡)è®¿é—®è¯¥æ–¹æ³•ã€‚è¿™ä¸é€‚ç”¨äºlambdaè¡¨è¾¾å¼ã€‚</p><p><strong>ä¸èƒ½</strong>ä»lambdaè¡¨è¾¾å¼ä¸­è®¿é—®é»˜è®¤æ–¹æ³•ã€‚ä»¥ä¸‹ä»£ç æ— æ³•ç¼–è¯‘:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Formula</span> formula <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token function">sqrt</span><span class="token punctuation">(</span> a <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><h2 id="å†…ç½®å‡½æ•°å¼æ¥å£">å†…ç½®å‡½æ•°å¼æ¥å£</h2><div class="story post-story"><p>JDK 1.8 APIåŒ…å«è®¸å¤šå†…ç½®çš„åŠŸèƒ½æ€§æ¥å£ã€‚å®ƒä»¬ä¸­çš„ä¸€äº›åœ¨è¾ƒæ—©çš„Javaç‰ˆæœ¬ä¸­å¾ˆæœ‰åï¼Œæ¯”å¦‚<code>Comparator</code>æˆ–<code>Runnable</code>ã€‚é€šè¿‡<code>@FunctionalInterface</code>æ³¨é‡Šå¯¹è¿™äº›ç°æœ‰æ¥å£è¿›è¡Œäº†æ‰©å±•ï¼Œä»¥æ”¯æŒLambdaã€‚</p><p>ä½†æ˜¯Java 8 APIä¹Ÿå……æ»¡äº†æ–°çš„åŠŸèƒ½æ¥å£ï¼Œä½¿æ‚¨çš„ç”Ÿæ´»æ›´è½»æ¾ã€‚å…¶ä¸­ä¸€äº›æ–°æ¥å£æ¥è‡ª <a target="_blank" rel="noopener" href="https://code.google.com/p/guava-libraries/">Google Guava</a>åº“ã€‚å³ä½¿æ‚¨ç†Ÿæ‚‰è¿™ä¸ªåº“ï¼Œä¹Ÿåº”è¯¥å¯†åˆ‡å…³æ³¨è¿™äº›æ¥å£æ˜¯å¦‚ä½•é€šè¿‡ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•æ‰©å±•æ¥æ‰©å±•çš„ã€‚</p><h3 id="è°“è¯-Predicates">è°“è¯(Predicates)</h3><p>è°“è¯æ˜¯ä¸€ä¸ªå‚æ•°çš„å¸ƒå°”å€¼å‡½æ•°ã€‚è¯¥æ¥å£åŒ…å«ç”¨äºå°†è°“è¯ç»„åˆæˆå¤æ‚é€»è¾‘æœ¯è¯­(å’Œæˆ–å¦å®š)çš„å„ç§é»˜è®¤æ–¹æ³•ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> predicate <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span>predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// truepredicate.negate().test("foo");     // falsePredicate&lt;Boolean> nonNull = Objects::nonNull;Predicate&lt;Boolean> isNull = Objects::isNull;Predicate&lt;String> isEmpty = String::isEmpty;Predicate&lt;String> isNotEmpty = isEmpty.negate();</span></code></pre><h3 id="å‡½æ•°-Functions">å‡½æ•°(Functions)</h3><p>å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°å¹¶äº§ç”Ÿä¸€ä¸ªç»“æœã€‚é»˜è®¤æ–¹æ³•å¯ä»¥ç”¨äºå°†å¤šä¸ªå‡½æ•°é“¾æ¥åœ¨ä¸€èµ·(compose, andThen)ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> toInteger <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">;</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> backToString <span class="token operator">=</span> toInteger<span class="token punctuation">.</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">)</span><span class="token punctuation">;</span>backToString<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// "123"</span></code></pre><h3 id="suppliers">suppliers</h3><p>Suppliersç”Ÿæˆç»™å®šæ³›å‹ç±»å‹çš„ç»“æœã€‚ä¸å‡½æ•°ä¸åŒï¼Œ,Suppliersä¸æ¥å—å‚æ•°ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> personSupplier <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span>personSupplier<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// new Person</span></code></pre><h3 id="Consumers">Consumers</h3><p>æ¶ˆè´¹è€…è¡¨ç¤ºå¯¹å•ä¸ªè¾“å…¥å‚æ•°æ‰§è¡Œçš„æ“ä½œ</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> greeter <span class="token operator">=</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello, "</span> <span class="token operator">+</span> p<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>greeter<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Luke"</span><span class="token punctuation">,</span> <span class="token string">"Skywalker"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="comparators">comparators</h3><p>æ¯”è¾ƒå™¨åœ¨è¾ƒæ—©çš„Javaç‰ˆæœ¬ä¸­å¾ˆæœ‰åã€‚Java 8å‘æ¥å£ä¸­æ·»åŠ äº†å„ç§é»˜è®¤æ–¹æ³•ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> comparator <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span> <span class="token operator">-></span> p1<span class="token punctuation">.</span>firstName<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token string">"Doe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token string">"Wonderland"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>comparator<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// > 0comparator.reversed().compare(p1, p2);  // &lt; 0</span></code></pre><h3 id="Optionals">Optionals</h3><p>å¯é€‰å¯¹è±¡ä¸æ˜¯å‡½æ•°æ¥å£ï¼Œè€Œæ˜¯ä¸€ä¸ªé˜²æ­¢<code>NullPointerException</code>çš„æ¼‚äº®å®ç”¨å·¥å…·ã€‚è¿™æ˜¯ä¸‹ä¸€èŠ‚çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å¿«é€Ÿäº†è§£ä¸€ä¸‹<code>optional</code>æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><p><code>Optional</code>æ˜¯ä¸€ä¸ªç®€å•çš„å€¼å®¹å™¨ï¼Œå®ƒå¯ä»¥æ˜¯ç©ºå€¼æˆ–éç©ºå€¼ã€‚è€ƒè™‘ä¸€ä¸ªå¯èƒ½è¿”å›éç©ºç»“æœä½†æœ‰æ—¶ä»€ä¹ˆä¹Ÿä¸è¿”å›çš„æ–¹æ³•ã€‚åœ¨<code>Java 8</code>ä¸­ï¼Œä¸æ˜¯è¿”å›nullï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªOptionalã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> optional <span class="token operator">=</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"bam"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>optional<span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// trueoptional.get();                 // "bam"optional.orElse("fallback");    // "bam"optional.ifPresent((s) -> System.out.println(s.charAt(0)));     // "b"</span></code></pre></div><h2 id="Streams">Streams</h2><div class="story post-story"><p><code>stream</code>è¡¨ç¤ºä¸€ä¸ªå¯ä»¥æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œçš„å…ƒç´ åºåˆ—ã€‚æµæ“ä½œå¯ä»¥æ˜¯ä¸­é—´æ“ä½œï¼Œä¹Ÿå¯ä»¥æ˜¯ç»ˆç«¯æ“ä½œã€‚ç»ˆç«¯æ“ä½œè¿”å›æŸç§ç±»å‹çš„ç»“æœï¼Œè€Œä¸­é—´æ“ä½œè¿”å›æµæœ¬èº«ï¼Œå› æ­¤æ‚¨å¯ä»¥åœ¨ä¸€è¡Œä¸­é“¾æ¥å¤šä¸ªæ–¹æ³•è°ƒç”¨ã€‚æµæ˜¯åœ¨æºæ–‡ä»¶ä¸Šåˆ›å»ºçš„ï¼Œä¾‹å¦‚<code>java.util.Collection</code>ï¼Œå¦‚åˆ—è¡¨æˆ–é›†åˆ(ä¸æ”¯æŒæ˜ å°„)ã€‚æµæ“ä½œå¯ä»¥é¡ºåºæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥å¹¶è¡Œæ‰§è¡Œã€‚</p><p>è®©æˆ‘ä»¬é¦–å…ˆçœ‹çœ‹é¡ºåºæµæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»¥å­—ç¬¦ä¸²åˆ—è¡¨çš„å½¢å¼åˆ›å»ºä¸€ä¸ªç¤ºä¾‹æº:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> stringCollection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"ddd2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"aaa2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"bbb1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"aaa1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"bbb3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"ccc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"bbb2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"ddd1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Java 8ä¸­çš„é›†åˆè¢«æ‰©å±•äº†ï¼Œæ‰€ä»¥ä½ å¯ä»¥é€šè¿‡è°ƒç”¨<code>Collection.stream()</code>æˆ–<code>Collection.parallelStream()</code>ç®€å•åœ°åˆ›å»ºæµã€‚ä¸‹é¢çš„éƒ¨åˆ†è§£é‡Šäº†æœ€å¸¸è§çš„æµæ“ä½œã€‚</p><h3 id="Filter">Filter</h3><p>Filteræ¥å—ä¸€ä¸ªè°“è¯(predicate)æ¥è¿‡æ»¤æµä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚è¿™ä¸ªæ“ä½œæ˜¯ä¸­é—´çš„ï¼Œå®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿå¯¹ç»“æœè°ƒç”¨å¦ä¸€ä¸ªæµæ“ä½œ(<code>forEach</code>)ã€‚ForEach æ¥å—è¦ä¸ºè¿‡æ»¤æµä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„ä½¿ç”¨è€…ã€‚<code>ForEach</code>æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œã€‚å®ƒæ˜¯<code>void</code>çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½è°ƒç”¨å¦ä¸€ä¸ªæµæ“ä½œã€‚</p><pre class="language-java" data-language="java"><code class="language-java">stringCollection    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "aaa2", "aaa1"</span></code></pre><h3 id="Sorted">Sorted</h3><p><code>Sorted</code>æ˜¯ä¸€ä¸ªä¸­é—´æ“ä½œï¼Œå®ƒè¿”å›æµçš„æ’åºè§†å›¾ã€‚å…ƒç´ æŒ‰è‡ªç„¶é¡ºåºæ’åºï¼Œé™¤éä¼ é€’è‡ªå®šä¹‰<code>Comparator</code>ã€‚</p><pre class="language-java" data-language="java"><code class="language-java">stringCollection    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "aaa1", "aaa2"</span></code></pre><p>==è¯·è®°ä½ï¼Œsortedåªåˆ›å»ºæµçš„æ’åºè§†å›¾ï¼Œè€Œä¸æ“ä½œåå°é›†åˆçš„é¡ºåºã€‚<code>stringCollection</code>çš„é¡ºåºæ˜¯ä¸å˜çš„:==</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stringCollection<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ddd2, aaa2, bbb1, aaa1, bbb3, ccc, bbb2, ddd1</span></code></pre><h3 id="Map">Map</h3><p>ä¸­é—´æ“ä½œæ˜ å°„(Map)é€šè¿‡ç»™å®šçš„å‡½æ•°å°†æ¯ä¸ªå…ƒç´ è½¬æ¢ä¸ºå¦ä¸€ä¸ªå¯¹è±¡ã€‚ä¸‹é¢çš„ç¤ºä¾‹å°†æ¯ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™å­—ç¬¦ä¸²ã€‚ä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨<code>map</code>å°†æ¯ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ã€‚ç»“æœæµçš„æ³›å‹ç±»å‹å–å†³äºä¼ é€’ç»™<code>map</code>çš„å‡½æ•°çš„æ³›å‹ç±»å‹ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">// æ˜ å°„map ä»å°å†™å˜æˆå¤§å†™, å¹¶æŒ‰ç…§ä»å°åˆ°å¤§æ’åºstringCollection    .stream()    .map(String::toUpperCase)    .sorted((a, b) -> b.compareTo(a))    .forEach(System.out::println);// "DDD2", "DDD1", "CCC", "BBB3", "BBB2", "AAA2", "AAA1"</span></code></pre><h3 id="Match">Match</h3><p>å¯ä»¥ä½¿ç”¨å„ç§åŒ¹é…æ“ä½œæ¥æ£€æŸ¥æŸä¸ªè°“è¯æ˜¯å¦ä¸æµåŒ¹é…ã€‚æ‰€æœ‰è¿™äº›æ“ä½œéƒ½æ˜¯<code>terminal</code>ï¼Œå¹¶è¿”å›ä¸€ä¸ª<code>å¸ƒå°”ç»“æœ</code>ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">// æ˜¯å¦æœ‰è‡³å°‘ä¸€ä¸ªä»¥aå¼€å¤´çš„å­˜åœ¨?boolean anyStartsWithA =    stringCollection        .stream()        .anyMatch((s) -> s.startsWith("a"));System.out.println(anyStartsWithA);      // true//æ˜¯å¦å…¨éƒ½æ˜¯ä»¥aå¼€å¤´?boolean allStartsWithA =    stringCollection        .stream()        .allMatch((s) -> s.startsWith("a"));System.out.println(allStartsWithA);      // false// æ˜¯å¦ä¸å­˜åœ¨ä»¥zå¼€å¤´?boolean noneStartsWithZ =    stringCollection        .stream()        .noneMatch((s) -> s.startsWith("z"));System.out.println(noneStartsWithZ);      // true</span></code></pre><h3 id="Count">Count</h3><p>Countæ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œå°†æµä¸­çš„å…ƒç´ ä¸ªæ•°ä½œä¸º<code>long</code>è¿”å›ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">// ä»¥Bå¼€å¤´çš„ä¸ªæ•°long startsWithB =    stringCollection        .stream()        .filter((s) -> s.startsWith("b"))        .count();System.out.println(startsWithB);    // 3</span></code></pre><h3 id="Reduce">Reduce</h3><p>è¿™ä¸ªç»ˆç«¯æ“ä½œä½¿ç”¨ç»™å®šå‡½æ•°å¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œè¿˜åŸã€‚ç»“æœæ˜¯ä¸€ä¸ª<code>å¯é€‰(Optional)</code>çš„ä¿å­˜å‡å°‘çš„å€¼ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> reduced <span class="token operator">=</span>    stringCollection        <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token operator">-></span> s1 <span class="token operator">+</span> <span class="token string">"#"</span> <span class="token operator">+</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>reduced<span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "aaa1#aaa2#bbb1#bbb2#bbb3#ccc#ddd1#ddd2"</span></code></pre></div><h2 id="Parallel-Streams">Parallel Streams</h2><div class="story post-story"><p>å¦‚ä¸Šæ‰€è¿°ï¼Œæµå¯ä»¥æ˜¯é¡ºåºçš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å¹¶è¡Œçš„ã€‚é¡ºåºæµä¸Šçš„æ“ä½œåœ¨å•ä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œè€Œå¹¶è¡Œæµä¸Šçš„æ“ä½œåœ¨å¤šä¸ªçº¿ç¨‹ä¸Šå¹¶å‘æ‰§è¡Œã€‚</p><p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†é€šè¿‡ä½¿ç”¨å¹¶è¡Œæµæ¥æé«˜æ€§èƒ½æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ç³»åˆ—ç‹¬ç‰¹å…ƒç´ :</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">1000000</span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">UUID</span> uuid <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    values<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>ç°åœ¨æˆ‘ä»¬æµ‹é‡å¯¹è¿™ä¸ªé›†åˆçš„æµè¿›è¡Œæ’åºæ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</p><h3 id="Sequential-Sort">Sequential Sort</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">long</span> t0 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> count <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> t1 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> millis <span class="token operator">=</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>NANOSECONDS<span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span>t1 <span class="token operator">-</span> t0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"sequential sort took: %d ms"</span><span class="token punctuation">,</span> millis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// sequential sort took: 899 ms</span></code></pre><h3 id="Parallel-Sort">Parallel Sort</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">long</span> t0 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> count <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> t1 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> millis <span class="token operator">=</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>NANOSECONDS<span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span>t1 <span class="token operator">-</span> t0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"parallel sort took: %d ms"</span><span class="token punctuation">,</span> millis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// parallel sort took: 472 ms</span></code></pre><p>æ­£å¦‚æ‚¨å¯ä»¥çœ‹åˆ°çš„ï¼Œè¿™ä¸¤ä¸ªä»£ç ç‰‡æ®µå‡ ä¹æ˜¯ç›¸åŒçš„ï¼Œä½†å¹¶è¡Œæ’åºå¤§çº¦å¿«50%ã€‚æ‚¨éœ€è¦åšçš„å°±æ˜¯å°†<code>stream()</code>æ›´æ”¹ä¸º<code>parallelStream()</code>ã€‚</p></div><h2 id="Map-2">Map</h2><div class="story post-story"><p>å¦‚å‰æ‰€è¿°ï¼Œæ˜ å°„ä¸æ”¯æŒæµã€‚ç›¸åï¼Œæ˜ å°„ç°åœ¨æ”¯æŒå„ç§æ–°çš„ã€æœ‰ç”¨çš„æ–¹æ³•æ¥å®Œæˆå¸¸è§çš„ä»»åŠ¡ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    map<span class="token punctuation">.</span><span class="token function">putIfAbsent</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">"val"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ä¸Šé¢çš„ä»£ç åº”è¯¥æ˜¯ä¸è¨€è‡ªæ˜çš„:<code>putIfAbsent</code>é˜»æ­¢æˆ‘ä»¬å†™é¢å¤–çš„<code>if null</code>æ£€æŸ¥;<code>forEach</code>æ¥å—ä¸€ä¸ªæ¶ˆè´¹è€…æ¥ä¸ºæ˜ å°„çš„æ¯ä¸ªå€¼æ‰§è¡Œæ“ä½œã€‚</p><p>è¿™ä¸ªä¾‹å­å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨å‡½æ•°åœ¨maoä¸Šè®¡ç®—ä»£ç :</p><pre class="language-java" data-language="java"><code class="language-java">map<span class="token punctuation">.</span><span class="token function">computeIfPresent</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>num<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">-></span> val <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// val33map.computeIfPresent(9, (num, val) -> null);map.containsKey(9);     // falsemap.computeIfAbsent(23, num -> "val" + num);map.containsKey(23);    // truemap.computeIfAbsent(3, num -> "bam");map.get(3);             // val33</span></code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ å¦‚ä½•åˆ é™¤ä¸€ä¸ªç»™å®šé”®çš„æ¡ç›®ï¼Œä»…å½“å®ƒå½“å‰æ˜ å°„åˆ°ä¸€ä¸ªç»™å®šå€¼æ—¶:</p><pre class="language-java" data-language="java"><code class="language-java">map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"val3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// val33map.remove(3, "val33");map.get(3);             // null</span></code></pre><p>å¦ä¸€ä¸ªæœ‰ç”¨çš„æ–¹æ³•:</p><pre class="language-java" data-language="java"><code class="language-java">map<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token string">"not found"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// not found</span></code></pre><p>åˆå¹¶ä¸€ä¸ªmapæ¡ç›®æ˜¯å¾ˆå®¹æ˜“çš„:</p><pre class="language-java" data-language="java"><code class="language-java">map<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">"val9"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span> <span class="token operator">-></span> value<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// val9map.merge(9, "concat", (value, newValue) -> value.concat(newValue));map.get(9);             // val9concat</span></code></pre><p>åˆå¹¶è¦ä¹ˆæŠŠé”®/å€¼æ”¾åˆ°æ˜ å°„ä¸­ï¼Œå¦‚æœé”®ä¸å­˜åœ¨ï¼Œè¦ä¹ˆè°ƒç”¨åˆå¹¶å‡½æ•°æ¥æ”¹å˜ç°æœ‰çš„å€¼ã€‚</p></div><h2 id="Date-API">Date API</h2><div class="story post-story"><p>Java 8åœ¨<code>Java .time</code>åŒ…ä¸‹åŒ…å«äº†ä¸€ä¸ªå…¨æ–°çš„æ—¥æœŸå’Œ<code>Date API</code>ã€‚æ–°çš„<code>Date API</code>å¯ä»¥ä¸J <a target="_blank" rel="noopener" href="http://www.joda.org/joda-time/">Joda-Time</a>åº“ç›¸æ¯”è¾ƒï¼Œä½†æ˜¯å®ƒä»¬<a target="_blank" rel="noopener" href="http://blog.joda.org/2009/11/why-jsr-310-isn-joda-time_4941.html">æ˜¯ä¸åŒçš„</a>ã€‚ä¸‹é¢çš„ç¤ºä¾‹æ¶µç›–äº†è¿™ä¸ªæ–°APIçš„æœ€é‡è¦éƒ¨åˆ†ã€‚</p><h3 id="Clock">Clock</h3><p>Clockæä¾›å¯¹å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„è®¿é—®ã€‚æ—¶é’ŸçŸ¥é“ä¸€ä¸ªæ—¶åŒºï¼Œå¯ä»¥ç”¨æ¥ä»£æ›¿<code>System.currentTimeMillis()</code>æ¥æ£€ç´¢å½“å‰çš„æ¯«ç§’æ•°ã€‚è¿™ç§æ—¶é—´çº¿ä¸Šçš„ç¬æ—¶ç‚¹ä¹Ÿå¯ä»¥ç”¨<code>Instantç±»</code>è¡¨ç¤ºã€‚<code>instant</code>å¯ç”¨äºåˆ›å»ºé—ç•™çš„<code>java.util.Date</code>å¯¹è±¡ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Clock</span> clock <span class="token operator">=</span> <span class="token class-name">Clock</span><span class="token punctuation">.</span><span class="token function">systemDefaultZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> millis <span class="token operator">=</span> clock<span class="token punctuation">.</span><span class="token function">millis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Instant</span> instant <span class="token operator">=</span> clock<span class="token punctuation">.</span><span class="token function">instant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> legacyDate <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>instant<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// legacy java.util.Date</span></code></pre><h3 id="Timezones">Timezones</h3><p>æ—¶åŒºç”¨<code>ZoneId</code>è¡¨ç¤ºã€‚å¯ä»¥é€šè¿‡é™æ€å·¥å‚æ–¹æ³•è½»æ¾åœ°è®¿é—®å®ƒä»¬ã€‚æ—¶åŒºå®šä¹‰äº†åœ¨ç¬é—´å’Œæœ¬åœ°æ—¥æœŸå’Œæ—¶é—´ä¹‹é—´è¿›è¡Œè½¬æ¢æ—¶éå¸¸é‡è¦çš„åç§»é‡ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">getAvailableZoneIds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// prints all available timezone idsZoneId zone1 = ZoneId.of("Europe/Berlin");ZoneId zone2 = ZoneId.of("Brazil/East");System.out.println(zone1.getRules());System.out.println(zone2.getRules());// ZoneRules[currentStandardOffset=+01:00]// ZoneRules[currentStandardOffset=-03:00]</span></code></pre><h3 id="LocalTime">LocalTime</h3><p>LocalTimeè¡¨ç¤ºæ²¡æœ‰æ—¶åŒºçš„æ—¶é—´ï¼Œä¾‹å¦‚æ™šä¸Š10ç‚¹æˆ–17:30:15ã€‚ä¸‹é¢çš„ç¤ºä¾‹ä¸ºä¸Šé¢å®šä¹‰çš„æ—¶åŒºåˆ›å»ºä¸¤ä¸ªæœ¬åœ°æ—¶é—´ã€‚ç„¶åæˆ‘ä»¬æ¯”è¾ƒè¿™ä¸¤ä¸ªæ—¶é—´ï¼Œå¹¶è®¡ç®—è¿™ä¸¤ä¸ªæ—¶é—´çš„</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">LocalTime</span> now1 <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>zone1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LocalTime</span> now2 <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>zone2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now1<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>now2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// falselong hoursBetween = ChronoUnit.HOURS.between(now1, now2);long minutesBetween = ChronoUnit.MINUTES.between(now1, now2);System.out.println(hoursBetween);       // -3System.out.println(minutesBetween);     // -239</span></code></pre><p>LocalTimeé™„å¸¦äº†å„ç§å·¥å‚æ–¹æ³•æ¥ç®€åŒ–æ–°å®ä¾‹çš„åˆ›å»ºï¼ŒåŒ…æ‹¬æ—¶é—´å­—ç¬¦ä¸²çš„è§£æã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">LocalTime</span> late <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>late<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 23:59:59DateTimeFormatter germanFormatter =    DateTimeFormatter        .ofLocalizedTime(FormatStyle.SHORT)        .withLocale(Locale.GERMAN);LocalTime leetTime = LocalTime.parse("13:37", germanFormatter);System.out.println(leetTime);   // 13:37</span></code></pre><h3 id="LocalDate">LocalDate</h3><p>LocalDateè¡¨ç¤ºä¸€ä¸ªä¸åŒçš„æ—¥æœŸï¼Œä¾‹å¦‚<code>2014-03-11</code>ã€‚å®ƒæ˜¯ä¸å¯å˜çš„ï¼Œå·¥ä½œæ–¹å¼ä¸<code>LocalTime</code>å®Œå…¨ç±»ä¼¼ã€‚è¯¥ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡å¢åŠ æˆ–å‡å°‘æ—¥ã€æœˆæˆ–å¹´æ¥è®¡ç®—æ–°çš„æ—¥æœŸã€‚è¯·è®°ä½ï¼Œæ¯ä¸ªæ“ä½œéƒ½è¿”å›ä¸€ä¸ªæ–°å®ä¾‹ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">LocalDate</span> today <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LocalDate</span> tomorrow <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span>DAYS<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LocalDate</span> yesterday <span class="token operator">=</span> tomorrow<span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LocalDate</span> independenceDay <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2014</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span>JULY<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">DayOfWeek</span> dayOfWeek <span class="token operator">=</span> independenceDay<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dayOfWeek<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// FRIDAY</span></code></pre><p>ä»å­—ç¬¦ä¸²ä¸­è§£æ<code>LocalDate</code>å°±åƒè§£æ<code>LocalTime</code>ä¸€æ ·ç®€å•:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">DateTimeFormatter</span> germanFormatter <span class="token operator">=</span>    <span class="token class-name">DateTimeFormatter</span>        <span class="token punctuation">.</span><span class="token function">ofLocalizedDate</span><span class="token punctuation">(</span><span class="token class-name">FormatStyle</span><span class="token punctuation">.</span>MEDIUM<span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">withLocale</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span>GERMAN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LocalDate</span> xmas <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"24.12.2014"</span><span class="token punctuation">,</span> germanFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>xmas<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 2014-12-24</span></code></pre><h3 id="LocalDateTime">LocalDateTime</h3><p><code>LocalDateTime</code>è¡¨ç¤º**<code>æ—¥æœŸ-æ—¶é—´</code>**ã€‚å®ƒå°†ä¸Šé¢çš„æ—¥æœŸå’Œæ—¶é—´åˆå¹¶åˆ°ä¸€ä¸ªå®ä¾‹ä¸­ã€‚<code>LocalDateTime</code>æ˜¯ä¸å¯å˜çš„ï¼Œå·¥ä½œåŸç†ç±»ä¼¼äº<code>LocalTime</code>å’Œ<code>LocalDate</code>ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ–¹æ³•ä»æ—¥æœŸ-æ—¶é—´ä¸­æ£€ç´¢æŸäº›å­—æ®µ:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">LocalDateTime</span> sylvester <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2014</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span>DECEMBER<span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">DayOfWeek</span> dayOfWeek <span class="token operator">=</span> sylvester<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dayOfWeek<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// WEDNESDAYMonth month = sylvester.getMonth();System.out.println(month);          // DECEMBERlong minuteOfDay = sylvester.getLong(ChronoField.MINUTE_OF_DAY);System.out.println(minuteOfDay);    // 1439</span></code></pre><p>é€šè¿‡é™„åŠ çš„æ—¶åŒºä¿¡æ¯ï¼Œå¯ä»¥å°†å…¶è½¬æ¢ä¸ºç¬é—´ã€‚ç¬é—´å¯ä»¥å¾ˆå®¹æ˜“åœ°è½¬æ¢ä¸º<code>java.util.Date</code>ç±»å‹çš„é—ç•™æ—¥æœŸã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Instant</span> instant <span class="token operator">=</span> sylvester        <span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> legacyDate <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>instant<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>legacyDate<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// Wed Dec 31 23:59:59 CET 2014</span></code></pre><p>æ ¼å¼åŒ–æ—¥æœŸ-æ—¶é—´å°±åƒæ ¼å¼åŒ–æ—¥æœŸæˆ–æ—¶é—´ä¸€æ ·ã€‚æˆ‘ä»¬å¯ä»¥ä»è‡ªå®šä¹‰æ¨¡å¼åˆ›å»ºæ ¼å¼åŒ–å™¨ï¼Œè€Œä¸æ˜¯ä½¿ç”¨é¢„å®šä¹‰çš„æ ¼å¼ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">DateTimeFormatter</span> formatter <span class="token operator">=</span>    <span class="token class-name">DateTimeFormatter</span>        <span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"MMM dd, yyyy - HH:mm"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LocalDateTime</span> parsed <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"Nov 03, 2014 - 07:13"</span><span class="token punctuation">,</span> formatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> string <span class="token operator">=</span> formatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>parsed<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// Nov 03, 2014 - 07:13</span></code></pre><p>ä¸<code>java.text.NumberFormat</code>ä¸åŒï¼Œæ–°çš„<code>DateTimeFormatter</code>æ˜¯<strong>ä¸å¯å˜çš„å’Œçº¿ç¨‹å®‰å…¨çš„</strong>ã€‚</p></div><h2 id="Annotations">Annotations</h2><div class="story post-story"><p>Java 8ä¸­çš„æ³¨é‡Šæ˜¯å¯é‡å¤çš„ã€‚è®©æˆ‘ä»¬ç›´æ¥è¿›å…¥ä¸€ä¸ªä¾‹å­æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŒ…è£…æ³¨é‡Šï¼Œå®ƒåŒ…å«ä¸€ä¸ªå®é™…æ³¨é‡Šçš„æ•°ç»„:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@interface</span> <span class="token class-name">Hints</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Hint</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Repeatable</span><span class="token punctuation">(</span><span class="token class-name">Hints</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token annotation punctuation">@interface</span> <span class="token class-name">Hint</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><p>Java 8å…è®¸æˆ‘ä»¬é€šè¿‡å£°æ˜æ³¨é‡Š@Repeatableæ¥ä½¿ç”¨ç›¸åŒç±»å‹çš„å¤šä¸ªæ³¨é‡Šã€‚</p><p>å˜ä½“1:ä½¿ç”¨å®¹å™¨æ³¨é‡Š(æ—§å¼)</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Hints</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token annotation punctuation">@Hint</span><span class="token punctuation">(</span><span class="token string">"hint1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@Hint</span><span class="token punctuation">(</span><span class="token string">"hint2"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></code></pre><p>å˜ä½“2:ä½¿ç”¨å¯é‡å¤çš„æ³¨é‡Š(æ–°å­¦æ ¡)</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Hint</span><span class="token punctuation">(</span><span class="token string">"hint1"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Hint</span><span class="token punctuation">(</span><span class="token string">"hint2"</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></code></pre><p>é€šè¿‡ä½¿ç”¨å˜ä½“2,javaç¼–è¯‘å™¨éšå¼åœ°åœ¨åº•å±‚è®¾ç½®@Hintsæ³¨é‡Šã€‚è¿™å¯¹äºé€šè¿‡åå°„é˜…è¯»æ³¨é‡Šä¿¡æ¯å¾ˆé‡è¦ã€‚</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Hint</span> hint <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Hint</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hint<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// nullHints hints1 = Person.class.getAnnotation(Hints.class);System.out.println(hints1.value().length);  // 2Hint[] hints2 = Person.class.getAnnotationsByType(Hint.class);System.out.println(hints2.length);          // 2</span></code></pre><p>å°½ç®¡æˆ‘ä»¬ä»æ¥æ²¡æœ‰åœ¨<code>Personç±»</code>ä¸Šå£°æ˜<code>@Hints</code>æ³¨é‡Šï¼Œä½†é€šè¿‡<code>getnotation (hint .class)</code>ä»ç„¶å¯è¯»ã€‚ç„¶è€Œï¼Œæ›´æ–¹ä¾¿çš„æ–¹æ³•æ˜¯<code>getAnnotationsByType</code>ï¼Œå®ƒå…è®¸ç›´æ¥è®¿é—®æ‰€æœ‰å¸¦æ³¨é‡Šçš„<code>@Hin</code>æ³¨é‡Šã€‚</p><p>æ­¤å¤–ï¼ŒJava 8ä¸­æ³¨é‡Šçš„ä½¿ç”¨æ‰©å±•åˆ°äº†ä¸¤ä¸ªæ–°çš„ç›®æ ‡:</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE_PARAMETER<span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE_USE<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotation</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></code></pre></div></div><div class="footer"><div class="references"><section class="header"><i class="fad fa-quote-left fa-fw" aria-hidden="true"></i> <span>å‚è€ƒèµ„æ–™</span></section><section class="body"><ul><li> <a href="https://winterbe.com/posts/2014/03/16/java-8-tutorial/" rel="external nofollow noopener noreferrer" target="_blank">Java 8 Tutorial</a></li></ul></section></div><div class="copyright"><blockquote><p>åšå®¢å†…å®¹éµå¾ª ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… (CC BY-NC-SA 4.0) åè®®</p><p>æœ¬æ–‡æ°¸ä¹…é“¾æ¥æ˜¯ï¼š<a href="https://www.sizaif.com/posts/c65d65/">https://www.sizaif.com/posts/c65d65/</a></p></blockquote></div></div><div class="article-meta" id="bottom"><div class="new-meta-box"><div class="new-meta-item author" itemprop="author" itemscope itemtype="http://schema.org/Person"> <a itemprop="url" class="author" href="/page/about/" rel="nofollow"><img itemprop="image" src="/img/avatar.webp" class="lazyload" data-srcset="/img/avatar.webp" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="This is a picture without description"><p itemprop="name">sizaif</p></a></div><div class="new-meta-item date" itemprop="dateModified" datetime="2021-09-19T18:14:49+08:00"><a class="notlink" href="/" onclick="return!1" title="Click me!"><i class="fad fa-edit EMERALD fa-fw" aria-hidden="true"></i><p>æ›´æ–°äºï¼š2021å¹´9æœˆ19æ—¥</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/Java/" rel="nofollow"><i class="fad fa-hashtag CARROT fa-fw" aria-hidden="true"></i><p>Java</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E6%8A%80%E6%9C%AF%E5%90%91/" rel="nofollow"><i class="fad fa-hashtag CARROT fa-fw" aria-hidden="true"></i><p>æŠ€æœ¯å‘</p></a></div> <span hidden itemprop="keywords">Java æŠ€æœ¯å‘</span><div class="new-meta-item browse leancloud"><a class="notlink" href="/" onclick="return!1" title="Click me!"><div id="lc-pv" data-title="Java 8 Tutorial æ•™ç¨‹" data-path="/posts/c65d65/"><i class="fad fa-eye GREENSEA fa-fw" aria-hidden="true"></i><span id="number"><i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span> æ¬¡æµè§ˆ</div></a></div></div></div><div class="prev-next"><a class="prev" href="/posts/ac15f71a/"><p class="title"><i class="fas fa-chevron-left" aria-hidden="true"></i>Docker Tutorial</p><p class="content">Docker Tutorial ğŸ˜„ @Auther: sizaif ğŸ“† 2021-06-08 15:38:53 [TOC] docker docs https://docs.docke...</p></a><a class="next" href="/posts/28f3a3fd/"><p class="title">Pyè‡ªåŠ¨åŒ–è„šæœ¬å®ç°å»é™¤hexoæ ‡ç­¾æ’ä»¶è¯­æ³•<i class="fas fa-chevron-right" aria-hidden="true"></i></p><p class="content">pyè‡ªåŠ¨åŒ–è„šæœ¬å®ç°å»é™¤hexoæ ‡ç­¾æ’ä»¶è¯­æ³• [TOC] éœ€æ±‚ é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—,å½“é‡‡ç”¨typoraç¼–å†™mdæ–‡æ¡£æ—¶,typoraç­‰å…¶ä»–è½¯ä»¶æ˜¯ä¸æ”¯æŒhexoçš„æ’ä»¶è¯­æ³•çš„,æ•…è€Œä¸ä¼šå®æ—¶æ¸²æŸ“çš„.åªä¼šæ˜¾ç¤º...</p></a></div></article><article class="post white-box reveal shadow" id="comments"><span hidden><meta itemprop="discussionUrl" content="/posts/c65d65/#comments"></span><p ct><i class="fad fa-comments PINK"></i> è¯„è®ºå§</p><div id="layoutHelper-comments"></div></article></div><aside id="l_side" itemscope itemtype="http://schema.org/WPSideBar"><section class="widget blogger shadow desktop mobile"><div class="content"> <a class="avatar flat-box circle" href="/page/about/"><img no-lazy src="/img/avatar.webp" alt="This is a picture without description"></a><div class="text"><p>æ˜¥æ±Ÿæ½®æ°´è¿æµ·å¹³,æµ·ä¸Šæ˜æœˆå…±æ½®ç”Ÿ</p></div><div class="social-wrapper"><a href="https://blog.csdn.net/sizaif" class="social fad fa-fa-bandcamp flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a><a href="https://github.com/sizaif/" class="social fad fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a></div></div></section><section class="widget toc-wrapper shadow desktop mobile" id="toc-div"><header><i class="fad fa-list DEEPORANGE fa-fw" aria-hidden="true"></i> <span class="name">æœ¬æ–‡ç›®å½•</span></header><div class="content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-text">è¯´æ˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E7%BC%BA%E7%9C%81%E6%96%B9%E6%B3%95"><span class="toc-text">æ¥å£ç¼ºçœæ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%89%E5%A7%86%E8%BE%BE-Lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">æ‹‰å§†è¾¾(Lambda)è¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3"><span class="toc-text">å‡½æ•°å¼æ¥å£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E5%92%8C%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8"><span class="toc-text">æ–¹æ³•å’Œæ„é€ å‡½æ•°å¼•ç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lambda%E8%8C%83%E5%9B%B4"><span class="toc-text">LambdaèŒƒå›´</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-text">è®¿é—®å±€éƒ¨å˜é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%AD%97%E6%AE%B5%E5%92%8C%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F"><span class="toc-text">è®¿é—®å­—æ®µå’Œé™æ€å˜é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E7%BC%BA%E7%9C%81%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-text">è®¿é—®ç¼ºçœæ¥å£æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3"><span class="toc-text">å†…ç½®å‡½æ•°å¼æ¥å£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%93%E8%AF%8D-Predicates"><span class="toc-text">è°“è¯(Predicates)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-Functions"><span class="toc-text">å‡½æ•°(Functions)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#suppliers"><span class="toc-text">suppliers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Consumers"><span class="toc-text">Consumers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#comparators"><span class="toc-text">comparators</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Optionals"><span class="toc-text">Optionals</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Streams"><span class="toc-text">Streams</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Filter"><span class="toc-text">Filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sorted"><span class="toc-text">Sorted</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map"><span class="toc-text">Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Match"><span class="toc-text">Match</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Count"><span class="toc-text">Count</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reduce"><span class="toc-text">Reduce</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Parallel-Streams"><span class="toc-text">Parallel Streams</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sequential-Sort"><span class="toc-text">Sequential Sort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Parallel-Sort"><span class="toc-text">Parallel Sort</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map-2"><span class="toc-text">Map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Date-API"><span class="toc-text">Date API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Clock"><span class="toc-text">Clock</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Timezones"><span class="toc-text">Timezones</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LocalTime"><span class="toc-text">LocalTime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LocalDate"><span class="toc-text">LocalDate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LocalDateTime"><span class="toc-text">LocalDateTime</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Annotations"><span class="toc-text">Annotations</span></a></li></ol></div></section></aside><script>window.pdata={},pdata.ispage=!0,pdata.postTitle="Java 8 Tutorial æ•™ç¨‹",pdata.commentPath="",pdata.commentPlaceholder="";var l_header=document.getElementById("l_header");l_header.classList.add("show");var cover_wrapper=document.querySelector("#l_cover .cover-wrapper"),scroll_down=document.getElementById("scroll-down");cover_wrapper.id="none",cover_wrapper.style.display="none",scroll_down.style.display="none"</script></div><footer class="footer clearfix" itemscope itemtype="http://schema.org/WPFooter"><br><br><div><p><span id="lc-sv">æœ¬ç«™æ€»è®¿é—®é‡ä¸º<span id="number"><i class="fad fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span> æ¬¡</span> <span id="lc-uv">è®¿å®¢æ•°ä¸º<span id="number"><i class="fad fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span> äºº</span></p></div><div><div class="footerMax490">é² ICP å¤‡ <a href="https://beian.miit.gov.cn/" target="_blank" rel="nofollow" style="cursor:wait">20018157</a> å·-1</div></div><div><div class="footerMax490">Copyright 2021 - 2022 sizaif. All Rights Reserved</div></div></footer><a id="s-top" class="fal fa-arrow-up fa-fw" href="/" onclick="return!1" title="top"></a></div><div class="deng-box2"><div class="deng"><div class="xian"></div><div class="deng-a"><div class="deng-b"><div class="deng-t">è…¾</div></div></div><div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div></div></div><div class="deng-box3"><div class="deng"><div class="xian"></div><div class="deng-a"><div class="deng-b"><div class="deng-t">é¾</div></div></div><div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div></div></div><div class="deng-box1"><div class="deng"><div class="xian"></div><div class="deng-a"><div class="deng-b"><div class="deng-t">è·ƒ</div></div></div><div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div></div></div><div class="deng-box"><div class="deng"><div class="xian"></div><div class="deng-a"><div class="deng-b"><div class="deng-t">è™</div></div></div><div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div></div></div></div><div><script>function volantisEventListener(e,t,o){this.type=e,this.f=t,this.ele=o}function volantisDom(e){return e||(e=document.createElement("div")),this.ele=e,this.ele.find=e=>{let t=this.ele.querySelector(e);if(t)return new volantisDom(t)},this.ele.hasClass=e=>this.ele.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")),this.ele.addClass=e=>(this.ele.classList.add(e),this.ele),this.ele.removeClass=e=>(this.ele.classList.remove(e),this.ele),this.ele.toggleClass=e=>(this.ele.hasClass(e)?this.ele.removeClass(e):this.ele.addClass(e),this.ele),this.ele.on=(e,t,o=1)=>(this.ele.addEventListener(e,t,!1),o&&volantis.EventListener.list.push(new volantisEventListener(e,t,this.ele)),this.ele),this.ele.click=(e,t)=>(this.ele.on("click",e,t),this.ele),this.ele.scroll=(e,t)=>(this.ele.on("scroll",e,t),this.ele),this.ele.html=e=>(this.ele.innerHTML=e,this.ele),this.ele.hide=e=>(this.ele.style.display="none",this.ele),this.ele.show=e=>(this.ele.style.display="block",this.ele),this.ele}function RunItem(){function e(e,t){this.name=t||e.name,this.run=()=>{try{e()}catch(e){console.log(e)}}}this.list=[],this.start=()=>{for(var e=0;e<this.list.length;e++)this.list[e].run()},this.push=(t,o,n=!0)=>{let l=t;n&&(l=()=>{volantis.requestAnimationFrame(t)});var s=new e(l,o);this.list.push(s)},this.remove=e=>{for(let t=0;t<this.list.length;t++){this.list[t].name==e&&this.list.splice(t,1)}}}window.volantis={},volantis.dom={},volantis.EventListener={},volantis.EventListener.list=[],volantis.EventListener.remove=()=>{volantis.EventListener.list.forEach((function(e){e.ele.removeEventListener(e.type,e.f,!1)})),volantis.EventListener.list=[]},volantis.dom.$=e=>e?new volantisDom(e):null,volantis.dom.bodyAnchor=volantis.dom.$(document.getElementById("safearea")),volantis.dom.topBtn=volantis.dom.$(document.getElementById("s-top")),volantis.dom.wrapper=volantis.dom.$(document.getElementById("wrapper")),volantis.dom.coverAnchor=volantis.dom.$(document.querySelector("#l_cover .cover-wrapper")),volantis.dom.switcher=volantis.dom.$(document.querySelector("#l_header .switcher .s-search")),volantis.dom.header=volantis.dom.$(document.getElementById("l_header")),volantis.dom.search=volantis.dom.$(document.querySelector("#l_header .m_search")),volantis.dom.mPhoneList=volantis.dom.$(document.querySelectorAll("#l_header .m-phone .list-v")),volantis.pjax={},volantis.pjax.method={complete:new RunItem,error:new RunItem,send:new RunItem},volantis.pjax={...volantis.pjax,push:volantis.pjax.method.complete.push,error:volantis.pjax.method.error.push,send:volantis.pjax.method.send.push},volantis.dark={},volantis.dark.method={toggle:new RunItem},volantis.dark={...volantis.dark,push:volantis.dark.method.toggle.push},volantis.js=(e,t)=>new Promise(o=>{setTimeout((function(){var n=document.getElementsByTagName("body")[0]||document.documentElement,l=document.createElement("script");if(l.setAttribute("type","text/javascript"),t)if(JSON.stringify(t))for(let e in t)"onload"==e?l[e]=()=>{t[e](),o()}:(l[e]=t[e],l.onload=o);else l.onload=()=>{t(),o()};else l.onload=o;l.setAttribute("src",e),n.appendChild(l)}))}),volantis.css=e=>new Promise(t=>{setTimeout((function(){var o=document.createElement("link");o.rel="stylesheet",o.href=e,o.onload=t,document.getElementsByTagName("head")[0].appendChild(o)}))}),volantis.import={jQuery:()=>"undefined"==typeof jQuery?volantis.js("https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js"):new Promise(e=>{e()})},volantis.requestAnimationFrame=e=>{window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame),window.requestAnimationFrame(e)},volantis.layoutHelper=(e,t,o)=>{function n(e,t,o){volantis.tempDiv=document.createElement("div"),volantis.tempDiv.innerHTML=t;let n=document.querySelector("#layoutHelper-"+e);n&&(o&&(n.innerHTML=""),n.append(volantis.tempDiv))}o=Object.assign({clean:!1,pjax:!0},o),n(e,t,o.clean),o.pjax&&volantis.pjax.push(()=>{n(e,t,o.clean)},"layoutHelper-"+e)},volantis.scroll={engine:new RunItem,unengine:new RunItem},volantis.scroll={...volantis.scroll,push:volantis.scroll.engine.push},volantis.scroll.getScrollTop=()=>{let e;return window.pageYOffset?e=window.pageYOffset:document.compatMode&&"BackCompat"!=document.compatMode?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e},volantis.scroll.handleScrollEvents=()=>{volantis.scroll.lastScrollTop=volantis.scroll.getScrollTop(),volantis.requestAnimationFrame((function e(){const t=volantis.scroll.getScrollTop();volantis.scroll.lastScrollTop!==t?(volantis.scroll.del=t-volantis.scroll.lastScrollTop,volantis.scroll.lastScrollTop=t,volantis.scroll.engine.start()):volantis.scroll.unengine.start(),volantis.requestAnimationFrame(e)}))},volantis.scroll.handleScrollEvents(),volantis.scroll.to=(e,t={})=>{opt={top:e.getBoundingClientRect().top+document.documentElement.scrollTop,behavior:"smooth"},"top"in t&&(opt.top=t.top),"behavior"in t&&(opt.behavior=t.behavior),"addTop"in t&&(opt.top+=t.addTop),"observerDic"in t||(t.observerDic=25),window.scrollTo(opt),t.observer&&volantis.scroll.unengine.push(()=>{let o=e.getBoundingClientRect().top;o>=-t.observerDic&&o<=t.observerDic?volantis.scroll.unengine.remove("unengineObserver"):volantis.scroll.to(e,t)},"unengineObserver")}</script><script>top.location!=self.location&&(top.location=self.location),volantis.css("https://cdn.jsdelivr.net/gh/inkss/fontawesome@5/css/all.min.css"),volantis.css("https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css")</script><script>volantis.message=(o,t,e={},s=null)=>{function i(o,t,e,s){const{icon:i,time:n,position:a,transitionIn:l,transitionOut:c,messageColor:r,titleColor:u,backgroundColor:g,zindex:d,displayMode:m}=e;iziToast.show({layout:"2",icon:"Fontawesome",closeOnEscape:"true",displayMode:m||"replace",transitionIn:l||"bounceInLeft",transitionOut:c||"fadeOutRight",messageColor:r||"var(--color-text)",titleColor:u||"var(--color-text)",backgroundColor:g||"var(--color-card)",zindex:d||"2147483647",icon:i||"fad fa-info-circle light-blue",timeout:n||"5000",position:a||"topRight",title:o,message:t,onClosed:()=>{s&&s()}})}"undefined"==typeof iziToast?(volantis.css("/css/message.css?time=1710817994374"),volantis.js("/js/message.js?time=1710817994374",()=>{i(o,t,e,s)})):i(o,t,e,s)},volantis.question=(o,t,e={},s=null,i=null,n=null)=>{function a(o,t,e,s,i,n){const{icon:a,time:l,position:c,transitionIn:r,transitionOut:u,messageColor:g,titleColor:d,backgroundColor:m,zindex:b}=e;iziToast.question({id:"question",icon:"Fontawesome",close:!1,overlay:!0,displayMode:"once",position:"center",messageColor:g||"var(--color-text)",titleColor:d||"var(--color-text)",backgroundColor:m||"var(--color-card)",zindex:b||"2147483647",icon:a||"fad fa-question-circle light-blue",timeout:l||"20000",title:o,message:t,buttons:[["<button><b>æ˜¯</b></button>",(o,t)=>{o.hide({transitionOut:u||"fadeOut"},t,"button"),s&&s(o,t)}],["<button><b>å¦</b></button>",(o,t)=>{o.hide({transitionOut:u||"fadeOut"},t,"button"),i&&i(o,t)}]],onClosed:(o,t,e)=>{n&&n(o,t,e)}})}"undefined"==typeof iziToast?(volantis.css("/css/message.css?time=1710817994374"),volantis.js("/js/message.js?time=1710817994374",()=>{a(o,t,e,s,i,n)})):a(o,t,e,s,i,n)},volantis.hideMessage=(o=null)=>{const t=document.querySelector(".iziToast");function e(o){iziToast.hide({},t),o&&o()}t?"undefined"==typeof iziToast?(volantis.css("/css/message.css?time=1710817994374"),volantis.js("/js/message.js?time=1710817994374",()=>{e(o)})):e(o):o&&o()},volantis.messageCopyright={enable:!0,title:"çŸ¥è¯†å…±äº«è®¸å¯åè®®",message:"è¯·éµå®ˆ CC BY-NC-SA 4.0 åè®®ã€‚",icon:"far fa-copyright light-blue"},volantis.messageRightMenu={enable:!0},volantis.messageCopyright.enable&&(document.body.oncopy=function(){volantis.message(volantis.messageCopyright.title,volantis.messageCopyright.message,{icon:volantis.messageCopyright.icon})})</script><div id="rightmenu-wrapper"><ul class="list-v rightmenu" id="rightmenu-content"><li class="navigation menuNavigation-Content"><a class="nav icon-only fix-cursor-default" onclick="history.back()"><i class="fal PETERRIVE fa-arrow-left fa-fw"></i></a><a class="nav icon-only fix-cursor-default" onclick="history.forward()"><i class="fal PETERRIVE fa-arrow-right fa-fw"></i></a><a class="nav icon-only fix-cursor-default" onclick="window.location.reload()"><i class="fal PETERRIVE fa-redo fa-fw"></i></a><a class="nav icon-only fix-cursor-default" href="/"><i class="fal PETERRIVE fa-home fa-fw"></i></a></li><li class="option menuOption-Content"><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copyText"><i class="fal PETERRIVE fa-copy fa-fw"></i> å¤åˆ¶æ–‡æœ¬</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copyPaste"><i class="fal PETERRIVE fa-paste fa-fw mR12"></i> ç²˜è´´æ–‡æœ¬</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copySelect"><i class="fal PETERRIVE fa-object-ungroup fa-fw mR12"></i> å…¨é€‰æ–‡æœ¬</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copyCut"><i class="fal PETERRIVE fa-cut fa-fw mR12"></i> å‰ªåˆ‡æ–‡æœ¬</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="openTab"><i class="fal PETERRIVE fa-external-link-square-alt fa-fw mR12"></i> åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copySrc"><i class="fal PETERRIVE fa-image fa-fw mR12"></i> å¤åˆ¶å›¾ç‰‡åœ°å€</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copyImg"><i class="fal PETERRIVE fa-images fa-fw mR12"></i> å¤åˆ¶å›¾ç‰‡æ–‡ä»¶</span></li><hr class="menuLoad-Content"><li class="menuLoad-Content"><a class="vlts-menu fix-cursor-default" href="/page/messages/" id="pagemessages"><i class="fal fa-comment EMERALD fa-fw"></i> ç•™è¨€æ¿</a></li><li class="menuLoad-Content"><a class="vlts-menu fix-cursor-default" href="/page/history/" id="pagehistory"><i class="fal fa-history PETERRIVE fa-fw"></i> æ—¶é—´è½´</a></li><hr class="menuLoad-Content"><li class="option menuOption-Content"><span class="vlts-menu opt fix-cursor-default" id="printHtml"><i class="fal fa-print TURQUOISE fa-fw"></i> æ‰“å°é¡µé¢</span></li><hr class="menuLoad-Content"><li class="option menuOption-Content"><span class="vlts-menu opt fix-cursor-default" id="readingModel"><i class="fal fa-book-open fa-fw"></i> é˜…è¯»æ¨¡å¼</span></li><li class="option menuOption-Content"><span class="vlts-menu opt fix-cursor-default toggle-mode-btn" id="menuDarkBtn"><i class="fal fa-moon WISTERIA fa-fw"></i> æš—é»‘æ¨¡å¼</span></li><div id="menuMusic"><li class="music name menuOption-Content"><p class="nav music-title fix-cursor-default"></p></li><li class="music ctrl"><a class="nav icon-only backward fix-cursor-default" onclick="volantis.rightMenu.aplayerBackward()"><i class="fal PETERRIVE fa-step-backward fa-fw"></i></a><a class="nav icon-only toggle fix-cursor-default" onclick="volantis.rightMenu.aplayerToggle()"><i class="fal PETERRIVE fa-play fa-fw"></i></a><a class="nav icon-only forward fix-cursor-default" onclick="volantis.rightMenu.aplayerForward()"><i class="fal PETERRIVE fa-step-forward fa-fw"></i></a></li><li class="music volume"><div class="nav volume"><div class="aplayer-volume-bar-wrap"><div class="aplayer-volume-bar fix-cursor-pointer"><div class="aplayer-volume"></div><i class="left fal PETERRIVE fa-volume-off fa-fw"></i><i class="right fal PETERRIVE fa-volume-up fa-fw"></i></div></div></div></li></div></ul></div><script>(1!==volantis.isMobile||document.documentElement.clientWidth>500)&&(volantis.rightMenu={},volantis.rightMenu.faicon="fal PETERRIVE",volantis.rightMenu.music=!0,volantis.rightMenu.aplayerBackward=()=>{event.stopPropagation(),MainAPlayer.aplayerBackward&&MainAPlayer.aplayerBackward()},volantis.rightMenu.aplayerToggle=()=>{event.stopPropagation(),MainAPlayer.aplayerToggle&&MainAPlayer.aplayerToggle()},volantis.rightMenu.aplayerForward=()=>{event.stopPropagation(),MainAPlayer.aplayerForward&&MainAPlayer.aplayerForward()},volantis.rightMenu.defaultStyles=!0,volantis.rightMenu.customPicUrl=!0,volantis.rightMenu.picOld="",volantis.rightMenu.picNew="",volantis.js("/js/rightMenu.js?time=1710817994374"))</script><script>const rootElement=document.documentElement,darkModeStorageKey="color-scheme",rootElementDarkModeAttributeName="color-scheme",setLS=(e,o)=>{localStorage.setItem(e,o)},removeLS=e=>{localStorage.removeItem(e)},getLS=e=>localStorage.getItem(e),getModeFromCSSMediaQuery=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",resetRootDarkModeAttributeAndLS=()=>{var e;rootElement.removeAttribute("color-scheme"),e="color-scheme",localStorage.removeItem(e)},validColorModeKeys={dark:!0,light:!0},applyCustomDarkModeSettings=e=>{const o=e||getLS("color-scheme");getCustomDarkMode(),o===getModeFromCSSMediaQuery()?resetRootDarkModeAttributeAndLS():validColorModeKeys[o]?rootElement.setAttribute("color-scheme",o):resetRootDarkModeAttributeAndLS()},invertDarkModeObj={dark:"light",light:"dark"},getCustomDarkMode=()=>{let e=getLS("color-scheme");if(validColorModeKeys[e])e=invertDarkModeObj[e];else{if(null!==e)return;e=invertDarkModeObj[getModeFromCSSMediaQuery()]}volantis.dark.mode="dark"==e?"light":"dark"},toggleCustomDarkMode=()=>{let e=getLS("color-scheme");if(validColorModeKeys[e])e=invertDarkModeObj[e];else{if(null!==e)return;e=invertDarkModeObj[getModeFromCSSMediaQuery()]}var o,t;return o="color-scheme",t=e,localStorage.setItem(o,t),e};function bindToggleButton(){document.querySelectorAll("#wrapper .toggle-mode-btn,#rightmenu-wrapper .toggle-mode-btn").forEach((function(e){volantis.dom.$(e).on("click",volantis.dark.toggle)}))}volantis.dark.toggle=()=>{const e=toggleCustomDarkMode();applyCustomDarkModeSettings(e),volantis.dark.method.toggle.start()},applyCustomDarkModeSettings(),document.addEventListener("DOMContentLoaded",()=>{volantis.requestAnimationFrame(bindToggleButton)}),volantis.pjax.push(bindToggleButton)</script><script>function loadIssuesJS(){null!=document.getElementById("friends-api")&&"undefined"==typeof FriendsJS&&volantis.js("/js/plugins/friends.js?time=1710817994374");null!=document.getElementById("contributors-api")&&"undefined"==typeof ContributorsJS&&volantis.js("/js/plugins/contributors.js?time=1710817994374")}loadIssuesJS(),volantis.pjax.push(()=>{loadIssuesJS()})</script><script defer="defer" src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script><script>window.lazyLoadOptions={elements_selector:".lazyload",threshold:0},window.addEventListener("LazyLoad::Initialized",(function(n){window.lazyLoadInstance=n.detail.instance}),!1),document.addEventListener("DOMContentLoaded",(function(){lazyLoadInstance.update()})),document.addEventListener("pjax:complete",(function(){lazyLoadInstance.update()}))</script><script>window.FPConfig={delay:0,ignoreKeywords:["#"],maxRPS:6,hoverDelay:0}</script><script defer="defer" src="https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"></script><script>function SetAPlayerPlugin(){let e=document.querySelectorAll("meting-js");if(0===e.length)return volantis.APlayerController.status=void 0,void("undefined"==typeof MainAPlayer&&(MainAPlayer={},MainAPlayer.Aplayer={}));if(e[0].aplayer&&e[0].aplayer.on){document.querySelectorAll(".aplayer-icon-menu").forEach(e=>{e.setAttribute("aria-label","Aplayer Menu")});try{setTimeout(()=>{e.forEach((e,t)=>{const a=e.aplayer;if(!a)return;const l=e.meta.id===volantis.APlayerController.id&&volantis.APlayerController.music;l&&MainAPlayer.checkAPlayer(),a.events.events.play.every(e=>"messagePlay"!==e.name)&&a.on("play",(function(){let e=a.list.index,t=a.list.audios[e].title,n=a.list.audios[e].artist;setTimeout(()=>{volantis.message("éŸ³ä¹é€šçŸ¥",t+" - "+n,{icon:"fas fa-play",transitionIn:"flipInX",transitionOut:"flipOutX"})},100),l&&volantis.APlayerController&&(volantis.APlayerController.status="play")})),a.events.events.pause.every(e=>"messagePause"!==e.name)&&a.on("pause",(function(){let e=a.list.index,t=a.list.audios[e].title,n=a.list.audios[e].artist;setTimeout(()=>{a.paused&&volantis.message("éŸ³ä¹é€šçŸ¥",t+" - "+n,{icon:"fas fa-pause",transitionIn:"flipInX",transitionOut:"flipOutX"})},100),l&&volantis.APlayerController&&(volantis.APlayerController.status="pause")}))})},500)}catch(e){console.error(e)}}else volantis.requestAnimationFrame(SetAPlayerPlugin)}volantis.APlayerController={},volantis.APlayerController.id="8110970572",volantis.APlayerController.volume="0.7",volantis.css("https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css"),(async()=>{await volantis.js("https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/js/APlayer.mini.js"),await volantis.js("https://cdn.jsdelivr.net/npm/meting@2.0/dist/Meting.min.js"),await volantis.js("/js/aplayer.js?time=1710817994376"),volantis.APlayerController.music=!0})(),document.addEventListener("DOMContentLoaded",()=>{SetAPlayerPlugin()}),volantis.pjax.push(SetAPlayerPlugin)</script><script>function pjax_waline(){if(!document.querySelector("#waline"))return;let a=pdata.commentPlaceholder||"å¿«æ¥ä¸€èµ·çŒæ°´æŠŠ~",e=pdata.commentPath;if(0==e.length){e=""||decodeURI(window.location.pathname)}new Waline(Object.assign({js:"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js",path:null,placeholder:"å¿«æ¥ä¸€èµ·çŒæ°´æŠŠ~",imageHosting:"https://7bu.top/api/upload",meta:["nick","mail","link"],requiredFields:["nick","mail"],serverURL:"https://my-blog-comments-7h9bif6tw-sizaif.vercel.app/",avatar:"robohash",avatarCDN:"https://sdn.geekzu.org/avatar/",pageSize:10,lang:"zh-CN",visitor:!1},{el:"#waline",path:e,placeholder:a,uploadImage:function(a){const e=new FormData;e.append("image",a);return fetch("https://7bu.top/api/upload",{method:"POST",body:e,headers:{Authorization:"0f10884e1e0a0831d1c6a272977cf5ce"}}).then(a=>a.json()).then(a=>a.data.url)}}))}volantis.layoutHelper("comments",'<div id="waline"><i class="fas fa-cog fa-spin fa-fw fa-2x"></i></div>'),volantis.js("https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js").then(pjax_waline),volantis.pjax.push(pjax_waline)</script><script src="https://cdn.jsdelivr.net/gh/sizaif/blog-cdn@main/js/app.js?time=1710817994374.js"></script><script>const SearchServiceDataPathRoot="/".endsWith("/")?"/":"//",SearchServiceDataPath=SearchServiceDataPathRoot+"content.json";function loadSearchScript(){return volantis.js("/js/search/hexo.js?time=1710817994374")}function loadSearchService(){loadSearchScript(),document.querySelectorAll(".input.u-search-input").forEach(e=>{e.removeEventListener("focus",loadSearchService,!1)})}function OpenSearch(e){loadSearchScript().then(()=>{SearchService.setQueryText(e),SearchService.search()})}if(window.location.search&&/^\?s=/g.test(window.location.search)){OpenSearch(decodeURI(window.location.search).replace(/\ /g,"-").replace(/^\?s=/g,""))}document.querySelectorAll(".input.u-search-input").forEach(e=>{e.addEventListener("focus",loadSearchService,!1)})</script><script src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@2/js/comment_typing.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.css"><script>function pjax_prismjs_copyCode(){if(!document.querySelector("pre"))return;document.querySelectorAll("pre").forEach(e=>{var o=document.createElement("div");o.classList.add("code-toolbar"),e.parentNode.insertBefore(o,e),o.appendChild(e)}),VolantisApp.copyCode(".code-toolbar pre")}volantis.requestAnimationFrame(pjax_prismjs_copyCode),volantis.pjax.push(pjax_prismjs_copyCode)</script><script defer="defer">const LCCounter={app_id:"GcD7lTc7sb10bct0tpUjQmNy-MdYXbMMI",app_key:"raRdC0LRDER0gV9zBR5K6h1C",custom_api_server:"app-router.leancloud.cn",getRecord:(e,t,r)=>new Promise((function(n,i){e("get","/classes/Counter?where="+encodeURIComponent(JSON.stringify({url:t}))).then(e=>e.json()).then(({results:o,code:s,error:a})=>{if(401===s)throw a;if(o&&o.length>0){var c=o[0];n(c)}else e("post","/classes/Counter",{url:t,title:r,times:0}).then(e=>e.json()).then((e,t)=>{if(t)throw t;n(e)}).catch(e=>{console.error("Failed to create",e),i(e)})}).catch(e=>{console.error("LeanCloud Counter Error:",e),i(e)})})),increment:(e,t)=>new Promise((function(r,n){e("post","/batch",{requests:t}).then(e=>{if((e=e.json()).error)throw e.error;r(e)}).catch(e=>{console.error("Failed to save visitor count",e),n(e)})})),buildIncrement:e=>({method:"PUT",path:"/1.1/classes/Counter/"+e,body:{times:{__op:"Increment",amount:1}}}),validUV(){var e="LeanCloudUVTimestamp",t=localStorage.getItem(e);return!(t&&(new Date).getTime()-parseInt(t)<=864e5)&&(localStorage.setItem(e,(new Date).getTime().toString()),!0)},addCount(e){var t=[],r=[],n=document.querySelector("#lc-sv"),o=this.getRecord(e,"https://www.sizaif.com/#lc-sv","Visits").then(e=>{r.push(this.buildIncrement(e.objectId));var t=document.querySelectorAll("#lc-sv #number");t.length>0&&t.forEach((t,r,i)=>{t.innerText=e.times+1,n&&(n.style.display="inline")})});t.push(o);var s=document.querySelector("#lc-uv"),a=this.getRecord(e,"https://www.sizaif.com/#lc-uv","Visitors").then(e=>{var t=this.validUV();t&&r.push(this.buildIncrement(e.objectId));var n=document.querySelectorAll("#lc-uv #number");n.length>0&&n.forEach((r,n,i)=>{r.innerText=e.times+(t?1:0),s&&(s.style.display="inline")})});t.push(a);var c=document.querySelectorAll("#lc-pv");for(c.length,i=0;i<c.length;i++){let n=c[i],o=n.getAttribute("data-title");var l="https://www.sizaif.com"+n.getAttribute("data-path");if(l){var h=this.getRecord(e,l,o).then(e=>{let t=window.location.pathname;if(t.includes("index.html")&&(t=t.substring(0,t.lastIndexOf("index.html"))),n.getAttribute("data-path")==t&&r.push(this.buildIncrement(e.objectId)),n){var i=n.querySelector("#lc-pv #number");i&&(n.getAttribute("data-path")==t?i.innerText=(e.times||0)+1:i.innerText=e.times||0,n.style.display="inline")}});t.push(h)}}Promise.all(t).then(()=>{r.length>0&&this.increment(e,r)})},fetchData(e){this.addCount((t,r,n)=>fetch(`${e}/1.1${r}`,{method:t,headers:{"X-LC-Id":this.app_id,"X-LC-Key":this.app_key,"Content-Type":"application/json"},body:JSON.stringify(n)}))},refreshCounter(){var e="-MdYXbMMI"!==this.app_id.slice(-9)?this.custom_api_server:`https://${this.app_id.slice(0,8).toLowerCase()}.api.lncldglobal.com`;e?this.fetchData(e):fetch("https://app-router.leancloud.cn/2/route?appId="+this.app_id).then(e=>e.json()).then(({api_server:e})=>{this.fetchData("https://"+e)})}};LCCounter.refreshCounter(),document.addEventListener("pjax:complete",(function(){LCCounter.refreshCounter()}))</script><script>setTimeout((function(){function a(){dataLayer.push(arguments)}volantis.js("https://www.googletagmanager.com/gtag/js?id=G-N8KQ2P8GC7"),window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","G-N8KQ2P8GC7")}),1e3),volantis.pjax.push(()=>{window.dataLayer=window.dataLayer||[],function(){dataLayer.push(arguments)}("config","G-N8KQ2P8GC7",{page_path:document.location.pathname})},"google_analytics")</script><script>var _hmt=_hmt||[];setTimeout((function(){volantis.js("https://hm.baidu.com/hm.js?edae7b205e9ea0265b67911e1e800db7")}),1e3),volantis.pjax.push(()=>{_hmt.push(["_trackPageview",document.location.pathname])},"baidu_analytics")</script><pjax></pjax><script>function listennSidebarTOC(){const e=document.querySelectorAll(".toc li");if(!e.length)return;const t=[...e].map(e=>{const t=e.querySelector(".toc-link"),n=document.getElementById(decodeURI(t.getAttribute("href")).replace("#",""));return t.setAttribute("onclick","return false;"),t.setAttribute("toc-action","toc-"+decodeURI(t.getAttribute("href")).replace("#","")),t.setAttribute("href","/"),t.addEventListener("click",e=>{e.preventDefault(),volantis.scroll.to(n,{addTop:5,observer:!0})}),n});!function n(r){r=Math.floor(r+1e4);let c=new IntersectionObserver((c,o)=>{let i=document.documentElement.scrollHeight;if(i>r)return o.disconnect(),void n(i);let a=function(e){let n=0,r=e[n];if(r.boundingClientRect.top>0)return n=t.indexOf(r.target),0===n?0:n-1;for(;n<e.length;n++){if(!(e[n].boundingClientRect.top<=0))return t.indexOf(r.target);r=e[n]}return t.indexOf(r.target)}(c);!function(e){if(e.classList.contains("active-current"))return;document.querySelectorAll(".toc .active").forEach(e=>{e.classList.remove("active","active-current")}),e.classList.add("active","active-current");let t=e.parentNode;for(;!t.matches(".toc");)t.matches("li")&&t.classList.add("active"),t=t.parentNode}(e[a])},{rootMargin:r+"px 0px -100% 0px",threshold:0});t.forEach(e=>{e&&c.observe(e)})}(document.documentElement.scrollHeight)}document.addEventListener("DOMContentLoaded",()=>{volantis.requestAnimationFrame(listennSidebarTOC)}),document.addEventListener("pjax:success",()=>{volantis.requestAnimationFrame(listennSidebarTOC)})</script><script type="application/ld+json">[{"@context":"http://schema.org","@type":"Organization","name":"Sizaif's Blog","url":"https://www.sizaif.com/","logo":{"@type":"ImageObject","url":"https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},{"@context":"http://schema.org","@type":"Person","name":"sizaif","image":{"@type":"ImageObject","url":"https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/android-chrome-192x192.png"},"url":"https://www.sizaif.com/","sameAs":["https://github.com/volantis-x"],"description":"æ˜¥æ±Ÿæ½®æ°´è¿æµ·å¹³,æµ·ä¸Šæ˜æœˆå…±æ½®ç”Ÿ."},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://www.sizaif.com/","name":"Sizaif's Blog"}},{"@type":"ListItem","position":2,"item":{"@id":"https://www.sizaif.com//navigation/categories/æŠ€æœ¯å‘/","name":"æŠ€æœ¯å‘"}},{"@type":"ListItem","position":2,"item":{"@id":"https://www.sizaif.com//navigation/categories/æŠ€æœ¯å‘/Java/","name":"Java"}},{"@type":"ListItem","position":3,"item":{"@id":"https://www.sizaif.com/posts/c65d65/","name":"Java 8 Tutorial æ•™ç¨‹"}}]},{"@context":"http://schema.org","@type":"BlogPosting","headline":"Java 8 Tutorial æ•™ç¨‹","description":"","datePublished":"2021-08-09T16:00:00.000Z","dateModified":"2021-09-19T10:14:49.368Z","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sizaif.com/posts/c65d65/"},"author":{"@type":"Person","name":"sizaif","image":{"@type":"ImageObject","url":"https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/android-chrome-192x192.png"},"url":"https://www.sizaif.com/"},"publisher":{"@type":"Organization","name":"Sizaif's Blog","logo":{"@type":"ImageObject","url":"https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},"url":"https://www.sizaif.com/posts/c65d65/","wordCount":0,"articleSection":"æŠ€æœ¯å‘","keywords":"Java,æŠ€æœ¯å‘","image":{"@type":"ImageObject","url":"https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/android-chrome-192x192.png","width":192,"height":192}}]</script><script>function pjax_ArticleBkg(){const e=document.querySelector(".cus-article-bkg"),t=document.getElementById("BKG");document.body.offsetWidth<=500?(t.style.display="none",e&&(e.style.display="none")):t.style.display=e?"none":""}function pjax_setGlobalBkg(){if(document.body.offsetWidth<=500){document.getElementById("BKG").style.display="none"}}document.addEventListener("DOMContentLoaded",(function(){pjax_ArticleBkg()})),volantis.pjax.send(pjax_setGlobalBkg),volantis.pjax.push(pjax_ArticleBkg)</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>var pjax;document.addEventListener("DOMContentLoaded",(function(){pjax=new Pjax({elements:'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox]):not([onclick="return false;"]):not([target="_blank"]):not([target="view_window"])',selectors:["title","#pjax-container","#pjax-header-nav-list","pjax","script[data-pjax], .pjax-reload script"],cacheBust:!1,timeout:5e3})})),document.addEventListener("pjax:send",(function(t){try{var e=window.location.pathname,n=t.triggerElement.href,a=["/artitalk/","/page/shuoshuo/"];""!=a[0]&&a.forEach(t=>{-1==e.indexOf(t)&&-1==n.indexOf(t)||(window.location.href=n)})}catch(t){}volantis.pjax.method.send.start()})),document.addEventListener("pjax:complete",(function(){volantis.pjax.method.complete.start()})),document.addEventListener("pjax:error",(function(t){volantis.pjax.method.error.start(),window.location.href=t.triggerElement.href}))</script><div id="BKG" class="content-in"></div></div></body></html>